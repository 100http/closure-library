<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Arc4</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_goog_crypt.html">goog.crypt</a></div><div class="codelink"><a href="source/closure/goog/crypt/arc4.js.src.html#l45">View Source</a></div><h1>class Arc4</h1><div class="tags"><span>final</span><span>struct</span></div><p>ARC4 streamcipher implementation.</p><h2>Instance Methods</h2><div id="crypt" class="function"><div><h3>crypt(<wbr>data, opt_length)<span class="codelink"><a href="source/closure/goog/crypt/arc4.js.src.html#l143">code »</a></span></h3><p>En- or decrypt (same operation for streamciphers like ARC4)</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>data<code>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;|Uint8Array)</code><dd><p>The data to be xor-ed in place.</p><dt>opt_length<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>The number of bytes to crypt.</p></dl></div></div></div></div><hr class="fn-sep"><div id="discard" class="function"><div><h3>discard(<wbr>length)<span class="codelink"><a href="source/closure/goog/crypt/arc4.js.src.html#l119">code »</a></span></h3><p>Discards n bytes of the keystream. These days 1536 is considered a decent amount to drop to get the key state warmed-up enough for secure usage. This is not done in the constructor to preserve efficiency for use cases that do not need this. NOTE: Discard is identical to crypt without actually xoring any data. It&#39;s unfortunate to have this code duplicated, but this was done for performance reasons. Alternatives which were attempted: 1. Create a temp array of the correct length and pass it to crypt. This  works but needlessly allocates an array. But more importantly this  requires choosing an array type (Array or Uint8Array) in discard, and  choosing a different type than will be passed to crypt by the client  code hurts the javascript engines ability to optimize crypt (7x hit in  v8). 2. Make data option in crypt so discard can pass null, this has a huge  perf hit for crypt.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>length<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>Number of bytes to disregard from the stream.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setKey" class="function"><div><h3>setKey(<wbr>key, opt_length)<span class="codelink"><a href="source/closure/goog/crypt/arc4.js.src.html#l74">code »</a></span></h3><p>Initialize the cipher for use with new key.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>key<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code><dd><p>A byte array containing the key.</p><dt>opt_length<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>Indicates # of bytes to take from the key.</p></dl></div></div></div></div></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>