<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>PopupMenu</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_goog_ui.html">goog.ui</a></div><div class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l68">View Source</a></div><h1>class PopupMenu</h1><pre class="inheritance"><a href="class_goog_Disposable.html">goog.Disposable</a>
  &#x2514; <a href="class_goog_events_EventTarget.html">goog.events.EventTarget</a>
      &#x2514; <a href="class_goog_ui_Component.html">goog.ui.Component</a>
          &#x2514; <a href="class_goog_ui_Container.html">goog.ui.Container</a>
              &#x2514; <a href="class_goog_ui_Menu.html">goog.ui.Menu</a>
                  &#x2514; goog.ui.PopupMenu</pre><dl><dt>All implemented interfaces:<dd><code><a href="interface_goog_disposable_IDisposable.html">goog.disposable.IDisposable</a></code>, <code><a href="interface_goog_events_Listenable.html">goog.events.Listenable</a></code></dl><p>A basic menu class.</p><h2 class="main">new PopupMenu(<wbr>opt_domHelper, opt_renderer)</h2><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>opt_domHelper<code>?<a href="class_goog_dom_DomHelper.html">goog.dom.DomHelper</a>=</code><dd><p>Optional DOM helper.</p><dt>opt_renderer<code>?<a href="class_goog_ui_MenuRenderer.html">goog.ui.MenuRenderer</a>=</code><dd><p>Renderer used to render or  decorate the container; defaults to <a href="class_goog_ui_MenuRenderer.html"><code>goog.ui.MenuRenderer</code></a>.</p></dl></div></div><h2>Instance Methods</h2><div id="attach" class="function"><div><h3>attach(<wbr>element, opt_targetCorner, opt_menuCorner, opt_contextMenu, opt_margin)<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l170">code »</a></span></h3><p>Attaches the menu to a new popup position and anchor element. A menu can only be attached to an element once, since attaching the same menu for multiple positions doesn&#39;t make sense.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>element<code>Element</code><dd><p>Element whose click event should trigger the menu.</p><dt>opt_targetCorner<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>Corner of the target that  the menu should be anchored to.</p><dt>opt_menuCorner<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>Corner of the menu that  should be anchored.</p><dt>opt_contextMenu<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>=</code><dd><p>Whether the menu should show on  <a href="enum_goog_events_EventType.html#CONTEXTMENU"><code>goog.events.EventType.CONTEXTMENU</code></a> events, false if it should  show on <a href="enum_goog_events_EventType.html#MOUSEDOWN"><code>goog.events.EventType.MOUSEDOWN</code></a> events. Default is  MOUSEDOWN.</p><dt>opt_margin<code>?<a href="class_goog_math_Box.html">goog.math.Box</a>=</code><dd><p>Margin for the popup used in positioning  algorithms.</p></dl></div></div></div></div><hr class="fn-sep"><div id="createAttachTarget" class="function"><div><h3>createAttachTarget(<wbr>element, opt_targetCorner, opt_menuCorner, opt_contextMenu, opt_margin)<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l260">code »</a></span></h3><p>Creates an object describing how the popup menu should be attached to the anchoring element based on the given parameters. The created object is stored, keyed by <code>element</code> and is retrievable later by invoking <a href="class_goog_ui_PopupMenu.html#getAttachTarget"><code>#getAttachTarget(element)</code></a> at a later point.</p><p>Subclass may add more properties to the returned object, as needed.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>element<code>Element</code><dd><p>Element whose click event should trigger the menu.</p><dt>opt_targetCorner<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>Corner of the target that  the menu should be anchored to.</p><dt>opt_menuCorner<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>Corner of the menu that  should be anchored.</p><dt>opt_contextMenu<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>=</code><dd><p>Whether the menu should show on  <a href="enum_goog_events_EventType.html#CONTEXTMENU"><code>goog.events.EventType.CONTEXTMENU</code></a> events, false if it should  show on <a href="enum_goog_events_EventType.html#MOUSEDOWN"><code>goog.events.EventType.MOUSEDOWN</code></a> events. Default is  MOUSEDOWN.</p><dt>opt_margin<code>?<a href="class_goog_math_Box.html">goog.math.Box</a>=</code><dd><p>Margin for the popup used in positioning  algorithms.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>An object that describes how the popup menu should be  attached to the anchoring element.</p></dl></div></div></div></div><hr class="fn-sep"><div id="decorateInternal" class="function"><div><h3>decorateInternal(<wbr>element)<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l118">code »</a></span></h3><p>Decorate an existing HTML structure with the menu. Menu items will be constructed from elements with classname &#39;goog-menuitem&#39;, separators will be made from HR elements.</p><p><b>Overrides: </b><a href="class_goog_ui_Menu.html#decorateInternal">goog.ui.Menu</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>element<code>Element</code><dd><p>Element to decorate.</p></dl></div></div></div></div><hr class="fn-sep"><div id="detach" class="function"><div><h3>detach(<wbr>element)<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l355">code »</a></span></h3><p>Detaches a menu from a given element.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>element<code>Element</code><dd><p>Element whose click event should trigger the menu.</p></dl></div></div></div></div><hr class="fn-sep"><div id="detachAll" class="function"><div><h3>detachAll()<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l339">code »</a></span></h3><p>Detaches all listeners</p></div></div><hr class="fn-sep"><div id="disposeInternal" class="function"><div><h3>disposeInternal()<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l632">code »</a></span></h3><p><b>Overrides: </b><a href="class_goog_ui_Container.html#disposeInternal">goog.ui.Container</a></p></div></div><hr class="fn-sep"><div id="enterDocument" class="function"><div><h3>enterDocument()<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l131">code »</a></span></h3><p><b>Overrides: </b><a href="class_goog_ui_Container.html#enterDocument">goog.ui.Container</a></p></div></div><hr class="fn-sep"><div id="getAttachTarget" class="function"><div><h3>getAttachTarget(<wbr>element)<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l293">code »</a></span></h3><p>Returns the object describing how the popup menu should be attach to given element or <code>null</code>. The object is created and the association is formed when <a href="class_goog_ui_PopupMenu.html#attach"><code>#attach</code></a> is invoked.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>element<code>Element</code><dd><p>DOM element.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>The object created when <code>attach</code> is invoked on  <code>element</code>. Returns <code>null</code> if the element does not trigger  the menu (i.e. <code>attach</code> has never been invoked on  <code>element</code>).</p></dl></div></div></div></div><hr class="fn-sep"><div id="getAttachedElement" class="function"><div><h3>getAttachedElement()<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l316">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>Element</code><dd><p>The current element where the popup is anchored, if it&#39;s  visible.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getToggleMode" class="function"><div><h3>getToggleMode()<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l394">code »</a></span></h3><p>Gets whether the menu is in toggle mode</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>toggle.</p></dl></div></div></div></div><hr class="fn-sep"><div id="handleBlur" class="function"><div><h3>handleBlur(<wbr>e)<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l625">code »</a></span></h3><p>Handles the key event target loosing focus.</p><p><b>Overrides: </b><a href="class_goog_ui_Container.html#handleBlur">goog.ui.Container</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>e<code><a href="class_goog_events_BrowserEvent.html">goog.events.BrowserEvent</a></code><dd><p>The browser event.</p></dl></div></div></div></div><hr class="fn-sep"><div id="hide" class="function"><div><h3>hide()<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l511">code »</a></span></h3><p>Hides the menu.</p></div></div><hr class="fn-sep"><div id="isAttachTarget" class="function"><div><h3>isAttachTarget(<wbr>element)<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l307">code »</a></span></h3><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>element<code>Element</code><dd><p>Any DOM element.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether clicking on the given element will trigger the  menu.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isOrWasRecentlyVisible" class="function"><div><h3>isOrWasRecentlyVisible()<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l533">code »</a></span></h3><p>Returns whether the menu is currently visible or was visible within about 150 ms ago. This stops the menu toggling back on if the toggleMode &#61;&#61; false.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the popup is currently visible or was visible  within about 150 ms ago.</p></dl></div></div></div></div><hr class="fn-sep"><div id="onDocClick" class="function"><div><h3>onDocClick(<wbr>e)<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l611">code »</a></span></h3><p>Handles click events that propagate to the document.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>e<code><a href="class_goog_events_BrowserEvent.html">goog.events.BrowserEvent</a></code><dd><p>The browser event.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setToggleMode" class="function"><div><h3>setToggleMode(<wbr>toggle)<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l385">code »</a></span></h3><p>Sets whether the menu should toggle if it is already open. For context menus this should be false, for toolbar menus it makes more sense to be true.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>toggle<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>The new toggle mode.</p></dl></div></div></div></div><hr class="fn-sep"><div id="showAt" class="function"><div><h3>showAt(<wbr>x, y, opt_menuCorner)<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l486">code »</a></span></h3><p>Shows the menu immediately at the given client coordinates.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>x<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The client-X associated with the show event.</p><dt>y<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The client-Y associated with the show event.</p><dt>opt_menuCorner<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>Corner of the menu that  should be anchored.</p></dl></div></div></div></div><hr class="fn-sep"><div id="showAtElement" class="function"><div><h3>showAtElement(<wbr>element, targetCorner, opt_menuCorner)<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l500">code »</a></span></h3><p>Shows the menu immediately attached to the given element</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>element<code>Element</code><dd><p>The element to show at.</p><dt>targetCorner<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The corner of the target to  anchor to.</p><dt>opt_menuCorner<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>Corner of the menu that  should be anchored.</p></dl></div></div></div></div><hr class="fn-sep"><div id="showMenu" class="function"><div><h3>showMenu(<wbr>target, x, y)<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l462">code »</a></span></h3><p>Show the menu at a given attached target.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>target<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>Popup target.</p><dt>x<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The client-X associated with the show event.</p><dt>y<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The client-Y associated with the show event.</p></dl></div></div></div></div><hr class="fn-sep"><div id="showWithPosition" class="function"><div><h3>showWithPosition(<wbr>position, opt_menuCorner, opt_margin, opt_anchor)<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l409">code »</a></span></h3><p>Show the menu using given positioning object.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>position<code><a href="class_goog_positioning_AbstractPosition.html">goog.positioning.AbstractPosition</a></code><dd><p>The positioning  instance.</p><dt>opt_menuCorner<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>The corner of the menu to be  positioned.</p><dt>opt_margin<code>?<a href="class_goog_math_Box.html">goog.math.Box</a>=</code><dd><p>A margin specified in pixels.</p><dt>opt_anchor<code>?Element=</code><dd><p>The element which acts as visual anchor for  this menu.</p></dl></div></div></div></div><hr class="fn-sep"><div id="wasRecentlyHidden" class="function"><div><h3>wasRecentlyHidden()<span class="codelink"><a href="source/closure/goog/ui/popupmenu.js.src.html#l543">code »</a></span></h3><p>Used to stop the menu toggling back on if the toggleMode &#61;&#61; false.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the menu was recently hidden.</p></dl></div></div></div></div></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>