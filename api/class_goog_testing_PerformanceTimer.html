<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>PerformanceTimer</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_goog_testing.html">goog.testing</a></div><div class="codelink"><a href="source/closure/goog/testing/performancetimer.js.src.html#l42">View Source</a></div><h1>class PerformanceTimer</h1><p>Creates a performance timer that runs test functions a number of times to generate timing samples, and provides performance statistics (minimum, maximum, average, and standard deviation).</p><h2 class="main">new PerformanceTimer(<wbr>opt_numSamples, opt_timeoutInterval)</h2><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>opt_numSamples<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>Number of times to run the test function;  defaults to 10.</p><dt>opt_timeoutInterval<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>Number of milliseconds after which the  test is to be aborted; defaults to 5 seconds (5,000ms).</p></dl></div></div><h2>Instance Methods</h2><div id="getNumSamples" class="function"><div><h3>getNumSamples()<span class="codelink"><a href="source/closure/goog/testing/performancetimer.js.src.html#l83">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The number of times the test function will be run.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getTimeoutInterval" class="function"><div><h3>getTimeoutInterval()<span class="codelink"><a href="source/closure/goog/testing/performancetimer.js.src.html#l100">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The number of milliseconds after which the test times out.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isDiscardOutliers" class="function"><div><h3>isDiscardOutliers()<span class="codelink"><a href="source/closure/goog/testing/performancetimer.js.src.html#l129">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether outlier values are discarded prior to computing  stats.</p></dl></div></div></div></div><hr class="fn-sep"><div id="run" class="function"><div><h3>run(<wbr>testFn)<span class="codelink"><a href="source/closure/goog/testing/performancetimer.js.src.html#l153">code »</a></span></h3><p>Executes the test function the required number of times (or until the test run exceeds the timeout interval, whichever comes first). Returns an object containing the following: </p><pre>  {  &#39;average&#39;: average execution time (ms)  &#39;count&#39;: number of executions (may be fewer than expected due to timeout)  &#39;maximum&#39;: longest execution time (ms)  &#39;minimum&#39;: shortest execution time (ms)  &#39;standardDeviation&#39;: sample standard deviation (ms)  &#39;total&#39;: total execution time (ms)  } </pre><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>testFn<code>Function</code><dd><p>Test function whose performance is to  be measured.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>Object containing performance stats.</p></dl></div></div></div></div><hr class="fn-sep"><div id="runAsyncTask" class="function"><div><h3>runAsyncTask(<wbr>task)<span class="codelink"><a href="source/closure/goog/testing/performancetimer.js.src.html#l222">code »</a></span></h3><p>Executes the test function of the specified task asynchronously. The test function is expected to take a callback as input and has to call it to signal that it&#39;s done. In addition, if specified, the setUp and tearDown functions of the task are invoked before and after each invocation of the test function. Note that setUp/tearDown functions take a callback as input and must call this callback when they are done.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>task<code><a href="class_goog_testing_PerformanceTimer_Task.html">goog.testing.PerformanceTimer.Task</a></code><dd><p>A task describing the test  function to invoke.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_async_Deferred.html">goog.async.Deferred</a></code><dd><p>The deferred result, eventually an object  containing performance stats.</p></dl></div></div></div></div><hr class="fn-sep"><div id="runTask" class="function"><div><h3>runTask(<wbr>task)<span class="codelink"><a href="source/closure/goog/testing/performancetimer.js.src.html#l168">code »</a></span></h3><p>Executes the test function of the specified task as described in <code>run</code>. In addition, if specified, the set up and tear down functions of the task are invoked before and after each invocation of the test function.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>task<code><a href="class_goog_testing_PerformanceTimer_Task.html">goog.testing.PerformanceTimer.Task</a></code><dd><p>A task describing the test  function to invoke.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>Object containing performance stats.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setDiscardOutliers" class="function"><div><h3>setDiscardOutliers(<wbr>discard)<span class="codelink"><a href="source/closure/goog/testing/performancetimer.js.src.html#l120">code »</a></span></h3><p>Sets whether to ignore the smallest and the largest values when computing stats.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>discard<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether to discard outlier values.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setNumSamples" class="function"><div><h3>setNumSamples(<wbr>numSamples)<span class="codelink"><a href="source/closure/goog/testing/performancetimer.js.src.html#l92">code »</a></span></h3><p>Sets the number of times the test function will be run.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>numSamples<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>Number of times to run the test function.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setTimeoutInterval" class="function"><div><h3>setTimeoutInterval(<wbr>timeoutInterval)<span class="codelink"><a href="source/closure/goog/testing/performancetimer.js.src.html#l109">code »</a></span></h3><p>Sets the number of milliseconds after which the test times out.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>timeoutInterval<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>Timeout interval in ms.</p></dl></div></div></div></div><h2>Static Functions</h2><div id="PerformanceTimer.createResults" class="function"><div><h3>PerformanceTimer.createResults(<wbr>samples)<span class="codelink"><a href="source/closure/goog/testing/performancetimer.js.src.html#l306">code »</a></span></h3><p>Creates a performance timer results object by analyzing a given array of sample timings.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>samples<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code><dd><p>The samples to analyze.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>Object containing performance stats.</p></dl></div></div></div></div><h2>Types</h2><dl><dt><a href="class_goog_testing_PerformanceTimer_Task.html">PerformanceTimer.Task</a><dd><p>A task for the performance timer to measure.</p></dl><h2>Type Definitions</h2><div id="PerformanceTimer.TestFunction" class="property"><dl><dt><a href="source/closure/goog/testing/performancetimer.js.src.html#l327">PerformanceTimer.TestFunction</a><code>function(): ?(<a href="class_goog_async_Deferred.html">goog.async.Deferred</a>)</code><dd><p>A test function whose performance should be measured or a setUp/tearDown function. It may optionally return a deferred object. If it does so, the test harness will assume the function is asynchronous and it must signal that it&#39;s done by setting an (empty) result on the deferred object. If the function doesn&#39;t return anything, the test harness will assume it&#39;s synchronous.</p></dl></div></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>