<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>ModuleManager</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_goog_module.html">goog.module</a></div><div class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l48">View Source</a></div><h1>class ModuleManager</h1><div class="tags"><span>struct</span></div><pre class="inheritance"><a href="class_goog_Disposable.html">goog.Disposable</a>
  &#x2514; goog.module.ModuleManager</pre><dl><dt>All implemented interfaces:<dd><code><a href="interface_goog_disposable_IDisposable.html">goog.disposable.IDisposable</a></code></dl><p>The ModuleManager keeps track of all modules in the environment. Since modules may not have their code loaded, we must keep track of them.</p><h2>Instance Methods</h2><div id="afterLoadModuleCode" class="function"><div><h3>afterLoadModuleCode(<wbr>id)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l1014">code »</a></span></h3><p>Method called just after module code is loaded</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>id<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Identifier of the module.</p></dl></div></div></div></div><hr class="fn-sep"><div id="beforeLoadModuleCode" class="function"><div><h3>beforeLoadModuleCode(<wbr>id)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l996">code »</a></span></h3><p>Method called just before a module code is loaded.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>id<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Identifier of the module.</p></dl></div></div></div></div><hr class="fn-sep"><div id="disposeInternal" class="function"><div><h3>disposeInternal()<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l1346">code »</a></span></h3><p><b>Overrides: </b><a href="class_goog_Disposable.html#disposeInternal">goog.Disposable</a></p></div></div><hr class="fn-sep"><div id="execOnLoad" class="function"><div><h3>execOnLoad(<wbr>moduleId, fn, opt_handler, opt_noLoad, opt_userInitiated, opt_preferSynchronous)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l902">code »</a></span></h3><p>Requests that a function be called once a particular module is loaded. Client code can use this method to safely call into modules that may not yet be loaded. For consistency, this method always calls the function asynchronously -- even if the module is already loaded. Initiates loading of the module if necessary, unless opt_noLoad is true.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>moduleId<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>A module id.</p><dt>fn<code>Function</code><dd><p>Function to execute when the module has loaded.</p><dt>opt_handler<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>=</code><dd><p>Optional handler under whose scope to execute  the callback.</p><dt>opt_noLoad<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>=</code><dd><p>TRUE iff not to initiate loading of the module.</p><dt>opt_userInitiated<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>=</code><dd><p>TRUE iff the loading of the module was  user initiated.</p><dt>opt_preferSynchronous<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>=</code><dd><p>TRUE iff the function should be  executed synchronously if the module has already been loaded.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_module_ModuleLoadCallback.html">goog.module.ModuleLoadCallback</a></code><dd><p>A callback wrapper that exposes  an abort and execute method.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getLoader" class="function"><div><h3>getLoader()<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l382">code »</a></span></h3><p>Gets the application-specific module loader.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="interface_goog_module_AbstractModuleLoader.html">goog.module.AbstractModuleLoader</a></code><dd><p>An object that has a  loadModules(ids, moduleInfoMap, opt_successFn, opt_errFn,  opt_timeoutFn, opt_forceReload) method.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getModuleContext" class="function"><div><h3>getModuleContext()<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l402">code »</a></span></h3><p>Gets the module context to use to initialize the module.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>The context.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getModuleInfo" class="function"><div><h3>getModuleInfo(<wbr>id)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l359">code »</a></span></h3><p>Gets a module info object by id.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>id<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>A module identifier.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_module_ModuleInfo.html">goog.module.ModuleInfo</a></code><dd><p>The module info.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isActive" class="function"><div><h3>isActive()<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l421">code »</a></span></h3><p>Determines if the ModuleManager is active</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>TRUE iff the ModuleManager is active (i.e., not idle).</p></dl></div></div></div></div><hr class="fn-sep"><div id="isModuleLoading" class="function"><div><h3>isModuleLoading(<wbr>id)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l870">code »</a></span></h3><p>Gets whether a module is currently loading or in the queue, waiting to be loaded.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>id<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>A module id.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>TRUE iff the module is loading.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isUserActive" class="function"><div><h3>isUserActive()<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l430">code »</a></span></h3><p>Determines if the ModuleManager is user active</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>TRUE iff the ModuleManager is user active (i.e., not idle).</p></dl></div></div></div></div><hr class="fn-sep"><div id="load" class="function"><div><h3>load(<wbr>moduleId, opt_userInitiated)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l953">code »</a></span></h3><p>Loads a module, returning a goog.async.Deferred for keeping track of the result.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>moduleId<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>A module id.</p><dt>opt_userInitiated<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>=</code><dd><p>If the load is a result of a user action.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_async_Deferred.html">goog.async.Deferred</a></code><dd><p>A deferred object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="loadMultiple" class="function"><div><h3>loadMultiple(<wbr>moduleIds, opt_userInitiated)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l970">code »</a></span></h3><p>Loads a list of modules, returning a goog.async.Deferred for keeping track of the result.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>moduleIds<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;</code><dd><p>A list of module ids.</p><dt>opt_userInitiated<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>=</code><dd><p>If the load is a result of a user action.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="class_goog_async_Deferred.html">goog.async.Deferred</a>&gt;</code><dd><p>A mapping from id (String)  to deferred objects that will callback or errback when the load for that  id is finished.</p></dl></div></div></div></div><hr class="fn-sep"><div id="prefetchModule" class="function"><div><h3>prefetchModule(<wbr>id)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l493">code »</a></span></h3><p>Prefetches a JavaScript module and its dependencies, which means that the module will be downloaded, but not evaluated. To complete the module load, the caller should also call load or execOnLoad after prefetching the module.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>id<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The id of the module to prefetch.</p></dl></div></div></div></div><hr class="fn-sep"><div id="preloadModule" class="function"><div><h3>preloadModule(<wbr>id, opt_timeout)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l476">code »</a></span></h3><p>Preloads a module after a short delay.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>id<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The id of the module to preload.</p><dt>opt_timeout<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>The number of ms to wait before adding the  module id to the loading queue (defaults to 0 ms). Note that the module  will be loaded asynchronously regardless of the value of this parameter.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_async_Deferred.html">goog.async.Deferred</a></code><dd><p>A deferred object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="registerCallback" class="function"><div><h3>registerCallback(<wbr>types, fn)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l1305">code »</a></span></h3><p>The function to call if the module manager is in error.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>types<code>?(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;)</code><dd><p>The callback type.</p><dt>fn<code>Function</code><dd><p>The function to register as a callback.</p></dl></div></div></div></div><hr class="fn-sep"><div id="registerInitializationCallback" class="function"><div><h3>registerInitializationCallback(<wbr>fn, opt_handler)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l1046">code »</a></span></h3><p>Register an initialization callback for the currently loading module. This should only be called by script that is executed during the evaluation of a module&#39;s javascript. This is almost equivalent to calling the function inline, but ensures that all the code from the currently loading module has been loaded. This makes it cleaner and more robust than calling the function inline.</p><p>If this function is called from the base module (the one that contains the module manager code), the callback is held until #setAllModuleInfo is called, or until #setModuleContext is called, whichever happens first.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>fn<code>Function</code><dd><p>A callback function that takes a single argument  which is the module context.</p><dt>opt_handler<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>=</code><dd><p>Optional handler under whose scope to execute  the callback.</p></dl></div></div></div></div><hr class="fn-sep"><div id="registerLateInitializationCallback" class="function"><div><h3>registerLateInitializationCallback(<wbr>fn, opt_handler)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l1067">code »</a></span></h3><p>Register a late initialization callback for the currently loading module. Callbacks registered via this function are executed similar to registerInitializationCallback, but they are fired after all initialization callbacks are called.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>fn<code>Function</code><dd><p>A callback function that takes a single argument  which is the module context.</p><dt>opt_handler<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>=</code><dd><p>Optional handler under whose scope to execute  the callback.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setAllModuleInfo" class="function"><div><h3>setAllModuleInfo(<wbr>infoMap)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l286">code »</a></span></h3><p>Sets the module info for all modules. Should only be called once.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>infoMap<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>&lt;?, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;&gt;</code><dd><p>An object that contains a mapping  from module id (String) to list of required module ids (Array).</p></dl></div></div></div></div><hr class="fn-sep"><div id="setAllModuleInfoString" class="function"><div><h3>setAllModuleInfoString(<wbr>opt_info, opt_loadingModuleIds)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l307">code »</a></span></h3><p>Sets the module info for all modules. Should only be called once. Also marks modules that are currently being loaded.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>opt_info<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>=</code><dd><p>A string representation of the module dependency  graph, in the form: module1:dep1,dep2/module2:dep1,dep2 etc.  Where depX is the base-36 encoded position of the dep in the module list.</p><dt>opt_loadingModuleIds<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;=</code><dd><p>A list of moduleIds that  are currently being loaded.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setBatchModeEnabled" class="function"><div><h3>setBatchModeEnabled(<wbr>enabled)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l262">code »</a></span></h3><p>Sets the batch mode as enabled or disabled for the module manager.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>enabled<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the batch mode is to be enabled or not.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setConcurrentLoadingEnabled" class="function"><div><h3>setConcurrentLoadingEnabled(<wbr>enabled)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l274">code »</a></span></h3><p>Sets the concurrent loading mode as enabled or disabled for the module manager. Requires a moduleloader implementation that supports concurrent loads. The default goog.module.ModuleLoader does not.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>enabled<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="setLoaded" class="function"><div><h3>setLoaded(<wbr>id)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l825">code »</a></span></h3><p>Records that a module was loaded. Also initiates loading the next module if any module requests are queued. This method is called by code that is generated and appended to each dynamic module&#39;s code at compilation time.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>id<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>A module id.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setLoader" class="function"><div><h3>setLoader(<wbr>loader)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l393">code »</a></span></h3><p>Sets the application-specific module loader.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>loader<code><a href="interface_goog_module_AbstractModuleLoader.html">goog.module.AbstractModuleLoader</a></code><dd><p>An object that has a  loadModules(ids, moduleInfoMap, opt_successFn, opt_errFn,  opt_timeoutFn, opt_forceReload) method.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setModuleConstructor" class="function"><div><h3>setModuleConstructor(<wbr>fn)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l1083">code »</a></span></h3><p>Sets the constructor to use for the module object for the currently loading module. The constructor should derive from goog.module.BaseModule.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>fn<code>Function</code><dd><p>The constructor function.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setModuleContext" class="function"><div><h3>setModuleContext(<wbr>context)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l411">code »</a></span></h3><p>Sets the module context to use to initialize the module.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>context<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>The context.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setModuleUris" class="function"><div><h3>setModuleUris(<wbr>moduleUriMap)<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l369">code »</a></span></h3><p>Sets the module uris.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>moduleUriMap<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>The map of id/uris pairs for each module.</p></dl></div></div></div></div><h2>Static Functions</h2><div id="ModuleManager.getInstance" class="function"><div><h3>ModuleManager.getInstance()<span class="codelink"><a href="source/closure/goog/module/modulemanager.js.src.html#l48">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_module_ModuleManager.html">goog.module.ModuleManager</a></code></dl></div></div></div></div><h2>Static Properties</h2><div id="ModuleManager.CORRUPT_RESPONSE_STATUS_CODE" class="property"><dl><dt><a href="source/closure/goog/module/modulemanager.js.src.html#l255">ModuleManager.CORRUPT_RESPONSE_STATUS_CODE</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>A non-HTTP status code indicating a corruption in loaded module. This should be used by a ModuleLoader as a replacement for the HTTP code given to the error handler function to indicated that the module was corrupted. This will set the forceReload flag on the loadModules method when retrying module loading.</p></dl></div><h2>Types</h2><dl><dt><a href="enum_goog_module_ModuleManager_CallbackType.html">ModuleManager.CallbackType</a><dd><p>The type of callbacks that can be registered with the module manager,.</p><dt><a href="enum_goog_module_ModuleManager_FailureType.html">ModuleManager.FailureType</a><dd><p>The possible reasons for a module load failure callback being fired.</p></dl></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>