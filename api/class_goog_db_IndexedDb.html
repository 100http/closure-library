<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>IndexedDb</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_goog_db.html">goog.db</a></div><div class="codelink"><a href="source/closure/goog/db/indexeddb.js.src.html#l44">View Source</a></div><h1>class IndexedDb</h1><div class="tags"><span>final</span></div><pre class="inheritance"><a href="class_goog_Disposable.html">goog.Disposable</a>
  &#x2514; <a href="class_goog_events_EventTarget.html">goog.events.EventTarget</a>
      &#x2514; goog.db.IndexedDb</pre><dl><dt>All implemented interfaces:<dd><code><a href="interface_goog_disposable_IDisposable.html">goog.disposable.IDisposable</a></code>, <code><a href="interface_goog_events_Listenable.html">goog.events.Listenable</a></code></dl><p>Creates an IDBDatabase wrapper object. The database object has methods for setting the version to change the structure of the database and for creating transactions to get or modify the stored records. Should not be created directly, call <a href="namespace_goog_db.html#openDatabase"><code>goog.db.openDatabase</code></a> to set up the connection.</p><h2 class="main">new IndexedDb(<wbr>db)</h2><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>db<code>IDBDatabase</code><dd><p>Underlying IndexedDB database object.</p></dl></div></div><h2>Instance Methods</h2><div id="close" class="function"><div><h3>close()<span class="codelink"><a href="source/closure/goog/db/indexeddb.js.src.html#l128">code »</a></span></h3><p>Closes the database connection. Metadata queries can still be made after this method is called, but otherwise this wrapper should not be used further.</p></div></div><hr class="fn-sep"><div id="createObjectStore" class="function"><div><h3>createObjectStore(<wbr>name, opt_params)<span class="codelink"><a href="source/closure/goog/db/indexeddb.js.src.html#l184">code »</a></span></h3><p>Creates an object store in this database. Can only be called inside a <a href="namespace_goog_db.html#db.UpgradeNeededCallback"><code>goog.db.UpgradeNeededCallback</code></a> or the callback for the Deferred returned from #setVersion.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>name<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Name for the new object store.</p><dt>opt_params<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>=</code><dd><p>Options object. The available options are:  keyPath, which is a string and determines what object attribute  to use as the key when storing objects in this object store; and  autoIncrement, which is a boolean, which defaults to false and determines  whether the object store should automatically generate keys for stored  objects. If keyPath is not provided and autoIncrement is false, then all  insert operations must provide a key as a parameter.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_db_ObjectStore.html">goog.db.ObjectStore</a></code><dd><p>The newly created object store.</p></dl></div><div class="fn-details"><div><b>Throws</b></div><dl><dt><code><a href="class_goog_db_Error.html">goog.db.Error</a></code><dd><p>If there&#39;s a problem creating the object store.</p></dl></div></div></div></div><hr class="fn-sep"><div id="createTransaction" class="function"><div><h3>createTransaction(<wbr>storeNames, opt_mode)<span class="codelink"><a href="source/closure/goog/db/indexeddb.js.src.html#l267">code »</a></span></h3><p>Creates a new transaction.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>storeNames<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;</code><dd><p>A list of strings that contains the  transaction&#39;s scope, the object stores that this transaction can operate  on.</p><dt>opt_mode<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>=</code><dd><p>The mode of the  transaction. If not present, the default is READ_ONLY. For VERSION_CHANGE  transactions call <a href="namespace_goog_db.html"><code>goog.db.IndexedDB#setVersion</code></a> instead.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_db_Transaction.html">goog.db.Transaction</a></code><dd><p>The wrapper for the newly created transaction.</p></dl></div><div class="fn-details"><div><b>Throws</b></div><dl><dt><code><a href="class_goog_db_Error.html">goog.db.Error</a></code><dd><p>If there&#39;s a problem creating the transaction.</p></dl></div></div></div></div><hr class="fn-sep"><div id="deleteObjectStore" class="function"><div><h3>deleteObjectStore(<wbr>name)<span class="codelink"><a href="source/closure/goog/db/indexeddb.js.src.html#l202">code »</a></span></h3><p>Deletes an object store. Can only be called inside a <a href="namespace_goog_db.html#db.UpgradeNeededCallback"><code>goog.db.UpgradeNeededCallback</code></a> or the callback for the Deferred returned from #setVersion.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>name<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Name of the object store to delete.</p></dl></div><div class="fn-details"><div><b>Throws</b></div><dl><dt><code><a href="class_goog_db_Error.html">goog.db.Error</a></code><dd><p>If there&#39;s a problem deleting the object store.</p></dl></div></div></div></div><hr class="fn-sep"><div id="disposeInternal" class="function"><div><h3>disposeInternal()<span class="codelink"><a href="source/closure/goog/db/indexeddb.js.src.html#l282">code »</a></span></h3><p><b>Overrides: </b><a href="class_goog_events_EventTarget.html#disposeInternal">goog.events.EventTarget</a></p></div></div><hr class="fn-sep"><div id="getName" class="function"><div><h3>getName()<span class="codelink"><a href="source/closure/goog/db/indexeddb.js.src.html#l147">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The name of this database.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getObjectStoreNames" class="function"><div><h3>getObjectStoreNames()<span class="codelink"><a href="source/closure/goog/db/indexeddb.js.src.html#l163">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>DOMStringList</code><dd><p>List of object stores in this database.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getVersion" class="function"><div><h3>getVersion()<span class="codelink"><a href="source/closure/goog/db/indexeddb.js.src.html#l155">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The current database version.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isOpen" class="function"><div><h3>isOpen()<span class="codelink"><a href="source/closure/goog/db/indexeddb.js.src.html#l139">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether a connection is open and the database can be used.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setVersion" class="function"><div><h3>setVersion(<wbr>version)<span class="codelink"><a href="source/closure/goog/db/indexeddb.js.src.html#l228">code »</a></span></h3><p>Updates the version of the database and returns a Deferred transaction. The database&#39;s structure can be changed inside this Deferred&#39;s callback, but nowhere else. This means adding or deleting object stores, and adding or deleting indexes. The version change will not succeed unless there are no other connections active for this database anywhere. A new database connection should be opened after the version change is finished to pick up changes.</p><p>This is deprecated, and only supported on Chrome prior to version 25. New applications should use the version parameter to <a href="namespace_goog_db.html#openDatabase"><code>goog.db.openDatabase</code></a> instead.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>version<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The new version of the database.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_async_Deferred.html">goog.async.Deferred</a></code><dd><p>The deferred transaction for changing the  version.</p></dl></div></div></div></div><h2>Types</h2><dl><dt><a href="enum_goog_db_IndexedDb_EventType.html">IndexedDb.EventType</a><dd><p>Event types fired by a database.</p><dt><a href="class_goog_db_IndexedDb_VersionChangeEvent.html">IndexedDb.VersionChangeEvent</a><dd><p>Event representing a (possibly attempted) change in the database structure.</p></dl></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>