<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>goog.net.WebChannel</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="content"><main><article><section class="intro" ><div class="header"><h1 class="title"><div>Interface goog.net.WebChannel</div></h1></div><div class="body"><table class="info"><tr class="info-row block" ><th class="info-head">Provided By</th><td class="info-cell" ><ul class="type-list"><li ><code class="expression"><a href="goog.net.WebChannel.html">goog.net.WebChannel</a></code></ul></td></tr><tr class="info-row block" ><th class="info-head">All Extended Interfaces</th><td class="info-cell" ><ul class="type-list"><li ><code class="expression">EventTarget</code></ul></td></tr><tr class="info-row block" ><th class="info-head">All Known Implementations</th><td class="info-cell" ><ul class="type-list"><li ><code class="expression"><a href="goog.labs.net.webChannel.WebChannelBaseTransport.Channel.html">goog.labs.net.webChannel.WebChannelBaseTransport.Channel</a></code></ul></td></tr></table><p>A WebChannel represents a logical bi-directional channel over which the
client communicates with a remote server that holds the other endpoint
of the channel. A WebChannel is always created in the context of a shared
<code>WebChannelTransport</code> instance. It is up to the underlying client-side
and server-side implementations to decide how or when multiplexing is
to be enabled.</p>
<div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L67" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="instance-methods"><h2>Instance Methods</h2><section class="property expandable"  id="addEventListener"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>addEventListener( <var>type</var>, <var>listener</var>, <var>useCapture</var> ) <var class="yield">→</var> <code class="expression"><i>void</i></code></div></h3></div><div class="body"><table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>type</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><var>listener</var></td><td class="info-cell" ><code class="expression">(EventListener|function(Event): (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|undefined)|null)</code></td></tr><tr class="info-row" ><td class="info-cell" ><var>useCapture</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a></code></td></tr></table></td></tr></table></div></section><section class="property expandable"  id="close"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>close() <var class="yield">→</var> <code class="expression"><i>void</i></code></div></h3></div><div class="body"><p>Close the WebChannel.</p>
<div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L167" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="dispatchEvent"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>dispatchEvent( <var>evt</var> ) <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a></code></div></h3></div><div class="body"><table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>evt</var></td><td class="info-cell" ><code class="expression">Event</code></td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a></code></td></tr></table></td></tr></table></div></section><section class="property expandable"  id="getRuntimeProperties"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>getRuntimeProperties() <var class="yield">→</var> <code class="expression"><a href="goog.net.WebChannel.RuntimeProperties.html">goog.net.WebChannel.RuntimeProperties</a></code></div></h3></div><div class="body"><table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><p>None.</p></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="goog.net.WebChannel.RuntimeProperties.html">goog.net.WebChannel.RuntimeProperties</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>The runtime properties
of the WebChannel instance.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L297" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="open"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>open() <var class="yield">→</var> <code class="expression"><i>void</i></code></div></h3></div><div class="body"><p>Open the WebChannel against the URI specified in the constructor.</p>
<div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L161" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="removeEventListener"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>removeEventListener( <var>type</var>, <var>listener</var>, <var>useCapture</var> ) <var class="yield">→</var> <code class="expression"><i>void</i></code></div></h3></div><div class="body"><table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>type</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><var>listener</var></td><td class="info-cell" ><code class="expression">(EventListener|function(Event): (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|undefined)|null)</code></td></tr><tr class="info-row" ><td class="info-cell" ><var>useCapture</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a></code></td></tr></table></td></tr></table></div></section><section class="property expandable"  id="send"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>send( <var>message</var> ) <var class="yield">→</var> <code class="expression"><i>void</i></code></div></h3></div><div class="body"><p>Sends a message to the server that maintains the other end point of
the WebChannel.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>message</var></td><td class="info-cell" ><code class="expression">(ArrayBuffer|Blob|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a>&gt;|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a>)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The message to send.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L176" target="_blank" title="View source">VIEW SOURCE</a></div></div></section></section><section class="instance-methods"><h2>Properties</h2><section class="property expandable"  id="WebChannel.X_CLIENT_PROTOCOL"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div>WebChannel.X_CLIENT_PROTOCOL <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></div></h3></div><div class="body"><p>A request header to indicate to the server the messaging protocol
each HTTP message is speaking.</p>
<div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L436" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="WebChannel.X_CLIENT_PROTOCOL_WEB_CHANNEL"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div>WebChannel.X_CLIENT_PROTOCOL_WEB_CHANNEL <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></div></h3></div><div class="body"><p>The value for x-client-protocol when the messaging protocol is WebChannel.</p>
<div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L444" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="WebChannel.X_CLIENT_WIRE_PROTOCOL"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div>WebChannel.X_CLIENT_WIRE_PROTOCOL <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></div></h3></div><div class="body"><p>A response header for the server to signal the wire-protocol that
the browser establishes with the server (or proxy), e.g. &#34;spdy&#34; (aka http/2)
&#34;quic&#34;. This information avoids the need to use private APIs to decide if
HTTP requests are multiplexed etc.</p>
<div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L455" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="WebChannel.X_HTTP_SESSION_ID"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div>WebChannel.X_HTTP_SESSION_ID <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></div></h3></div><div class="body"><p>A response header for the server to send back the HTTP session id as part of
the initial handshake. The value of the HTTP session id is opaque to the
WebChannel protocol.</p>
<div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L465" target="_blank" title="View source">VIEW SOURCE</a></div></div></section></section><section class="types"><h2>Interfaces</h2><ul><li class="summary"><div><a href="goog.net.WebChannel.RuntimeProperties.html">WebChannel.RuntimeProperties</a></div></ul></section><section class="types"><h2>Classes</h2><ul><li class="summary"><div><a href="goog.net.WebChannel.ErrorEvent.html">WebChannel.ErrorEvent</a></div><li class="summary"><div><a href="goog.net.WebChannel.MessageEvent.html">WebChannel.MessageEvent</a></div></ul></section><section class="types"><h2>Enumerations</h2><ul><li class="summary"><div><a href="goog.net.WebChannel.ErrorStatus.html">WebChannel.ErrorStatus</a></div><li class="summary"><div><a href="goog.net.WebChannel.EventType.html">WebChannel.EventType</a></div></ul></section><section class="instance-methods"><h2>Type Definitions</h2><section class="property expandable"  id="WebChannel.MessageData"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div>WebChannel.MessageData <var class="yield">→</var> <code class="expression">(ArrayBuffer|Blob|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a>&gt;|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a>|null)</code></div></h3></div><div class="body"><p>Types that are allowed as message data.</p>
<p>Note that JS objects (sent by the client) can only have string encoded
values due to the limitation of the current wire protocol.</p>
<p>Unicode strings (sent by the server) may or may not need be escaped, as
decided by the server.</p>
<div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L155" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="WebChannel.Options"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div>WebChannel.Options <var class="yield">→</var> <code class="expression">{backgroundChannelTest: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|undefined), clientProtocolHeaderRequired: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|undefined), concurrentRequestLimit: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">number</a>|undefined), httpHeadersOverwriteParam: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a>|undefined), httpSessionIdParam: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a>|undefined), initMessageHeaders: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a>&gt;|undefined), messageHeaders: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a>&gt;|undefined), messageUrlParams: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a>&gt;|undefined), sendRawJson: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|undefined), supportsCrossDomainXhr: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|undefined), testUrl: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a>|undefined)}</code></div></h3></div><div class="body"><p>Configuration spec for newly created WebChannel instances.</p>
<p>WebChannels are configured in the context of the containing
<code>WebChannelTransport</code>. The configuration parameters are specified
when a new instance of WebChannel is created via <code>WebChannelTransport</code>.</p>
<p>messageHeaders: custom headers to be added to every message sent to the
server. This object is mutable, and custom headers may be changed, removed,
or added during the runtime after a channel has been opened.</p>
<p>initMessageHeaders: similar to messageHeaders, but any custom headers will
be sent only once when the channel is opened. Typical usage is to send
an auth header to the server, which only checks the auth header at the time
when the channel is opened.</p>
<p>messageUrlParams: custom url query parameters to be added to every message
sent to the server. This object is mutable, and custom parameters may be
changed, removed or added during the runtime after a channel has been opened.</p>
<p>clientProtocolHeaderRequired: whether a special header should be added to
each message so that the server can dispatch webchannel messages without
knowing the URL path prefix. Defaults to false.</p>
<p>concurrentRequestLimit: the maximum number of in-flight HTTP requests allowed
when SPDY is enabled. Currently we only detect SPDY in Chrome.
This parameter defaults to 10. When SPDY is not enabled, this parameter
will have no effect.</p>
<p>supportsCrossDomainXhr: setting this to true to allow the use of sub-domains
(as configured by the server) to send XHRs with the CORS withCredentials
bit set to true.</p>
<p>testUrl: the test URL for detecting connectivity during the initial
handshake. This parameter defaults to &#34;/&lt;channel_url&gt;/test&#34;.</p>
<p>sendRawJson: whether to bypass v8 encoding of client-sent messages. Will be
deprecated after v9 wire protocol is introduced. Only safe to set if the
server is known to support this feature.</p>
<p>httpSessionIdParam: the URL parameter name that contains the session id (
for sticky routing of HTTP requests). When this param is specified, a server
that supports this option will respond with an opaque session id as part of
the initial handshake (via the X-HTTP-Session-Id header); and all the
subsequent requests will contain the httpSessionIdParam. This option will
take precedence over any duplicated parameter specified with
messageUrlParams, whose value will be ignored.</p>
<p>httpHeadersOverwriteParam: the URL parameter name to allow custom HTTP
headers to be overwritten as a URL param to bypass CORS preflight.
goog.net.rpc.HttpCors is used to encode the HTTP headers.</p>
<p>backgroundChannelTest: whether to run the channel test (detecting networking
conditions) as a background process so the OPEN event will be fired sooner
to reduce the initial handshake delay. This option defaults to false now.
Eventually we may turn this flag on by default.</p>
<div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/labs/net/webchannel.js#L141" target="_blank" title="View source">VIEW SOURCE</a></div></div></section></section></article></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><script src="types.js"></script><script src="dossier.js"></script>