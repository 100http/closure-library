<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>ImageLoader</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_goog_net.html">goog.net</a></div><div class="codelink"><a href="source/closure/goog/net/imageloader.js.src.html#l64">View Source</a></div><h1>class ImageLoader</h1><div class="tags"><span>final</span></div><pre class="inheritance"><a href="class_goog_Disposable.html">goog.Disposable</a>
  &#x2514; <a href="class_goog_events_EventTarget.html">goog.events.EventTarget</a>
      &#x2514; goog.net.ImageLoader</pre><dl><dt>All implemented interfaces:<dd><code><a href="interface_goog_disposable_IDisposable.html">goog.disposable.IDisposable</a></code>, <code><a href="interface_goog_events_Listenable.html">goog.events.Listenable</a></code></dl><p>Image loader utility class. Raises a <a href="enum_goog_events_EventType.html#LOAD"><code>goog.events.EventType.LOAD</code></a> event for each image loaded, with an <code>Image</code> object as the target of the event, normalized to have <code>naturalHeight</code> and <code>naturalWidth</code> attributes.</p><p>To use this class, run:</p>
<pre>
  var imageLoader &#61; new goog.net.ImageLoader();
  goog.events.listen(imageLoader, goog.net.EventType.COMPLETE,
      function(e) { ... });
  imageLoader.addImage(&#34;image_id&#34;, &#34;http://path/to/image.gif&#34;);
  imageLoader.start();
</pre><p>The start() method must be called to start image loading. Images can be added and removed after loading has started, but only those images added before start() was called will be loaded until start() is called again. A goog.net.EventType.COMPLETE event will be dispatched only once all outstanding images have completed uploading.</p><h2 class="main">new ImageLoader(<wbr>opt_parent)</h2><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>opt_parent<code>?Element=</code><dd><p>An optional parent element whose document object  should be used to load images.</p></dl></div></div><h2>Instance Methods</h2><div id="addImage" class="function"><div><h3>addImage(<wbr>id, image, opt_corsRequestType)<span class="codelink"><a href="source/closure/goog/net/imageloader.js.src.html#l170">code »</a></span></h3><p>Adds an image to the image loader, and associates it with the given ID string. If an image with that ID already exists, it is silently replaced. When the image in question is loaded, the target of the LOAD event will be an <code>Image</code> object with <code>id</code> and <code>src</code> attributes based on these arguments.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>id<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The ID of the image to load.</p><dt>image<code>?(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|Image)</code><dd><p>Either the source URL of the image or the HTML  image element itself (or any object with a <code>src</code> property, really).</p><dt>opt_corsRequestType<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>=</code><dd><p>The type  of CORS request to use, if any.</p></dl></div></div></div></div><hr class="fn-sep"><div id="disposeInternal" class="function"><div><h3>disposeInternal()<span class="codelink"><a href="source/closure/goog/net/imageloader.js.src.html#l332">code »</a></span></h3><p><b>Overrides: </b><a href="class_goog_events_EventTarget.html#disposeInternal">goog.events.EventTarget</a></p></div></div><hr class="fn-sep"><div id="removeImage" class="function"><div><h3>removeImage(<wbr>id)<span class="codelink"><a href="source/closure/goog/net/imageloader.js.src.html#l190">code »</a></span></h3><p>Removes the image associated with the given ID string from the image loader. If the image was previously loading, removes any listeners for its events and dispatches a COMPLETE event if all remaining images have now completed.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>id<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The ID of the image to remove.</p></dl></div></div></div></div><hr class="fn-sep"><div id="start" class="function"><div><h3>start()<span class="codelink"><a href="source/closure/goog/net/imageloader.js.src.html#l215">code »</a></span></h3><p>Starts loading all images in the image loader in parallel. Raises a LOAD event each time an image finishes loading, and a COMPLETE event after all images have finished loading.</p></div></div><h2>Types</h2><dl><dt><a href="enum_goog_net_ImageLoader_CorsRequestType.html">ImageLoader.CorsRequestType</a><dd><p>The type of image request to dispatch, if this is a CORS-enabled image request.</p></dl><h2>Type Definitions</h2><div id="ImageLoader.ImageRequest_" class="property"><dl><dt><a href="source/closure/goog/net/imageloader.js.src.html#l129">ImageLoader.ImageRequest_</a><code>{corsRequestType: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, src: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>}</code><dd><p>Describes a request for an image. This includes its URL and its CORS-request type, if any.</p></dl></div></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>