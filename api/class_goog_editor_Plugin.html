<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Plugin</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_goog_editor.html">goog.editor</a></div><div class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l40">View Source</a></div><h1>class Plugin</h1><pre class="inheritance"><a href="class_goog_Disposable.html">goog.Disposable</a>
  &#x2514; <a href="class_goog_events_EventTarget.html">goog.events.EventTarget</a>
      &#x2514; goog.editor.Plugin</pre><dl><dt>All implemented interfaces:<dd><code><a href="interface_goog_disposable_IDisposable.html">goog.disposable.IDisposable</a></code>, <code><a href="interface_goog_events_Listenable.html">goog.events.Listenable</a></code></dl><p>Abstract API for trogedit plugins.</p><h2>Instance Methods</h2><div id="activeOnUneditableFields" class="function"><div><h3>activeOnUneditableFields()<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l198">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>If true, field will not disable the command  when the field becomes uneditable.</p></dl></div></div></div></div><hr class="fn-sep"><div id="cleanContentsDom" class="function"><div><h3>cleanContentsDom(<wbr>fieldCopy)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l440">code »</a></span></h3><p>Cleans the contents of the node passed to it. The node contents are modified directly, and the modifications will subsequently be used, for operations such as saving the innerHTML of the editor etc. Since the plugins act on the DOM directly, this method can be very expensive.</p><p>This op is invoked even on disabled plugins.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>fieldCopy<code>Element</code><dd><p>The copy of the editable field which  needs to be cleaned up.</p></dl></div></div></div></div><hr class="fn-sep"><div id="cleanContentsHtml" class="function"><div><h3>cleanContentsHtml(<wbr>originalHtml)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l453">code »</a></span></h3><p>Cleans the html contents of Trogedit. Both cleanContentsDom and and cleanContentsHtml will be called on contents extracted from Trogedit. The inverse of prepareContentsHtml.</p><p>This op is invoked even on disabled plugins.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>originalHtml<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The trogedit HTML.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Cleaned-up HTML.</p></dl></div></div></div></div><hr class="fn-sep"><div id="disable" class="function"><div><h3>disable(<wbr>fieldObject)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l154">code »</a></span></h3><p>Disables this plugin for the specified, registered field object.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>fieldObject<code><a href="class_goog_editor_Field.html">goog.editor.Field</a></code><dd><p>The field object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="disposeInternal" class="function"><div><h3>disposeInternal()<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l211">code »</a></span></h3><p><b>Overrides: </b><a href="class_goog_events_EventTarget.html#disposeInternal">goog.events.EventTarget</a></p></div></div><hr class="fn-sep"><div id="enable" class="function"><div><h3>enable(<wbr>fieldObject)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l140">code »</a></span></h3><p>Enables this plugin for the specified, registered field object. A field object should only be enabled when it is loaded.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>fieldObject<code><a href="class_goog_editor_Field.html">goog.editor.Field</a></code><dd><p>The field object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="execCommand" class="function"><div><h3>execCommand(<wbr>command, var_args)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l351">code »</a></span></h3><p>Handles execCommand. This default implementation handles dispatching BEFORECHANGE, CHANGE, and SELECTIONCHANGE events, and calls execCommandInternal to perform the actual command. Plugins that want to do their own event dispatching should override execCommand, otherwise it is preferred to only override execCommandInternal.</p><p>This version of execCommand will only work for single field plugins. Multi-field plugins must override execCommand.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>command<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The command to execute.</p><dt>var_args<code>...*</code><dd><p>Any additional parameters needed to  execute the command.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><p>The result of the execCommand, if any.</p></div></div></div></div><hr class="fn-sep"><div id="execCommandInternal" class="function"><div><h3>execCommandInternal(<wbr>command, var_args)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l402">code »</a></span></h3><p>Handles execCommand. This default implementation does nothing, and is called by execCommand, which handles event dispatching. This method should be overriden by plugins that don&#39;t need to do their own event dispatching. If custom event dispatching is needed, execCommand shoul be overriden instead.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>command<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The command to execute.</p><dt>var_args<code>...*</code><dd><p>Any additional parameters needed to  execute the command.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><p>The result of the execCommand, if any.</p></div></div></div></div><hr class="fn-sep"><div id="getFieldDomHelper" class="function"><div><h3>getFieldDomHelper()<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l67">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_dom_DomHelper.html">goog.dom.DomHelper</a></code><dd><p>The dom helper object associated with the  currently active field.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getFieldObject" class="function"><div><h3>getFieldObject()<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l97">code »</a></span></h3><p>Sets the field object for use with this plugin.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_editor_Field.html">goog.editor.Field</a></code><dd><p>The editable field object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getTrogClassId" class="function"><div><h3>getTrogClassId()<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l224">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The ID unique to this plugin class. Note that different  instances off the plugin share the same classId.</p></dl></div></div></div></div><hr class="fn-sep"><div id="handleKeyDown" class="function"><div><h3>handleKeyDown(<wbr>e)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l280">code »</a></span></h3><p>Handles keydown. It is run before handleKeyboardShortcut and if it returns true handleKeyboardShortcut will not be called.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>e<code><a href="class_goog_events_BrowserEvent.html">goog.events.BrowserEvent</a></code><dd><p>The browser event.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the event was handled and thus should <em>not</em> be  propagated to other plugins or handleKeyboardShortcut.</p></dl></div></div></div></div><hr class="fn-sep"><div id="handleKeyPress" class="function"><div><h3>handleKeyPress(<wbr>e)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l290">code »</a></span></h3><p>Handles keypress. It is run before handleKeyboardShortcut and if it returns true handleKeyboardShortcut will not be called.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>e<code><a href="class_goog_events_BrowserEvent.html">goog.events.BrowserEvent</a></code><dd><p>The browser event.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the event was handled and thus should <em>not</em> be  propagated to other plugins or handleKeyboardShortcut.</p></dl></div></div></div></div><hr class="fn-sep"><div id="handleKeyUp" class="function"><div><h3>handleKeyUp(<wbr>e)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l299">code »</a></span></h3><p>Handles keyup.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>e<code><a href="class_goog_events_BrowserEvent.html">goog.events.BrowserEvent</a></code><dd><p>The browser event.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the event was handled and thus should <em>not</em> be  propagated to other plugins.</p></dl></div></div></div></div><hr class="fn-sep"><div id="handleKeyboardShortcut" class="function"><div><h3>handleKeyboardShortcut(<wbr>e, key, isModifierPressed)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l333">code »</a></span></h3><p>Handles keyboard shortcuts. Preferred to using handleKey* as it will use the proper event based on browser and will be more performant. If handleKeyPress/handleKeyDown returns true, this will not be called. If the plugin handles the shortcut, it is responsible for dispatching appropriate events (change, selection change at the time of this comment). If the plugin calls execCommand on the editable field, then execCommand already takes care of dispatching events. NOTE: For performance reasons this is only called when any key is pressed in conjunction with ctrl/meta keys OR when a small subset of keys (defined in goog.editor.Field.POTENTIAL_SHORTCUT_KEYCODES_) are pressed without ctrl/meta keys. We specifically don&#39;t invoke it when altKey is pressed since alt key is used in many i8n UIs to enter certain characters.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>e<code><a href="class_goog_events_BrowserEvent.html">goog.events.BrowserEvent</a></code><dd><p>The browser event.</p><dt>key<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The key pressed.</p><dt>isModifierPressed<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the ctrl/meta key was pressed or  not.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the event was handled and thus should <em>not</em> be  propagated to other plugins. We also call preventDefault on the event if  the return value is true.</p></dl></div></div></div></div><hr class="fn-sep"><div id="handleSelectionChange" class="function"><div><h3>handleSelectionChange(<wbr>opt_e, opt_target)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l309">code »</a></span></h3><p>Handles selection change.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>opt_e<code><a href="class_goog_events_BrowserEvent.html">goog.events.BrowserEvent</a>=</code><dd><p>The browser event.</p><dt>opt_target<code>Node=</code><dd><p>The node the selection changed to.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the event was handled and thus should <em>not</em> be  propagated to other plugins.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isAutoDispose" class="function"><div><h3>isAutoDispose()<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l189">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether or not this plugin should automatically be disposed  when it&#39;s registered field is disposed.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isEnabled" class="function"><div><h3>isEnabled(<wbr>fieldObject)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l170">code »</a></span></h3><p>Returns whether this plugin is enabled for the field object.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>fieldObject<code><a href="class_goog_editor_Field.html">goog.editor.Field</a></code><dd><p>The field object.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether this plugin is enabled for the field object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isSilentCommand" class="function"><div><h3>isSilentCommand(<wbr>command)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l207">code »</a></span></h3><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>command<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The command to check.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>If true, field will not dispatch change events  for commands of this type. This is useful for &#34;seamless&#34; plugins like  dialogs and lorem ipsum.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isSupportedCommand" class="function"><div><h3>isSupportedCommand(<wbr>command)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l461">code »</a></span></h3><p>Whether the string corresponds to a command this plugin handles.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>command<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Command string to check.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the plugin handles this type of command.</p></dl></div></div></div></div><hr class="fn-sep"><div id="prepareContentsHtml" class="function"><div><h3>prepareContentsHtml(<wbr>originalHtml, styles)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l426">code »</a></span></h3><p>Prepares the given HTML for editing. Strips out content that should not appear in an editor, and normalizes content as appropriate. The inverse of cleanContentsHtml.</p><p>This op is invoked even on disabled plugins.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>originalHtml<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The original HTML.</p><dt>styles<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>A map of strings. If the plugin wants to add  any styles to the field element, it should add them as key-value  pairs to this object.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>New HTML that&#39;s ok for editing.</p></dl></div></div></div></div><hr class="fn-sep"><div id="queryCommandValue" class="function"><div><h3>queryCommandValue(<wbr>command)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l410">code »</a></span></h3><p>Gets the state of this command if this plugin serves that command.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>command<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The command to check.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><p>The value of the command.</p></div></div></div></div><hr class="fn-sep"><div id="registerFieldObject" class="function"><div><h3>registerFieldObject(<wbr>fieldObject)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l117">code »</a></span></h3><p>Registers the field object for use with this plugin.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>fieldObject<code><a href="class_goog_editor_Field.html">goog.editor.Field</a></code><dd><p>The editable field object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setAutoDispose" class="function"><div><h3>setAutoDispose(<wbr>autoDispose)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l180">code »</a></span></h3><p>Set if this plugin should automatically be disposed when the registered field is disposed.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>autoDispose<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether to autoDispose.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setFieldObject" class="function"><div><h3>setFieldObject(<wbr>fieldObject)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l108">code »</a></span></h3><p>Sets the field object for use with this plugin.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>fieldObject<code><a href="class_goog_editor_Field.html">goog.editor.Field</a></code><dd><p>The editable field object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="unregisterFieldObject" class="function"><div><h3>unregisterFieldObject(<wbr>fieldObj)<span class="codelink"><a href="source/closure/goog/editor/plugin.js.src.html#l127">code »</a></span></h3><p>Unregisters and disables this plugin for the current field object.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>fieldObj<code><a href="class_goog_editor_Field.html">goog.editor.Field</a></code><dd><p>The field object. For single-field  plugins, this parameter is ignored.</p></dl></div></div></div></div><h2>Instance Properties</h2><div id="fieldObject" class="property"><dl><dt><a href="source/closure/goog/editor/plugin.js.src.html#l60">fieldObject</a><code><a href="class_goog_editor_Field.html">goog.editor.Field</a></code><dd><p>The field object this plugin is attached to.</p></dl></div><div id="logger" class="property"><dl><dt><a href="source/closure/goog/editor/plugin.js.src.html#l87">logger</a><code><a href="class_goog_debug_Logger.html">goog.debug.Logger</a></code><dd><p>The logger for this plugin.</p></dl></div><h2>Static Properties</h2><div id="Plugin.IRREPRESSIBLE_OPS" class="property"><dl><dt><a href="source/closure/goog/editor/plugin.js.src.html#l267">Plugin.IRREPRESSIBLE_OPS</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>A set of op codes that run even on disabled plugins.</p></dl></div><div id="Plugin.OPCODE" class="property"><dl><dt><a href="source/closure/goog/editor/plugin.js.src.html#l249">Plugin.OPCODE</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>A map from plugin operations to the names of the methods that invoke those operations.</p></dl></div><h2>Types</h2><dl><dt><a href="enum_goog_editor_Plugin_Op.html">Plugin.Op</a><dd><p>An enum of operations that plugins may support.</p></dl></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>