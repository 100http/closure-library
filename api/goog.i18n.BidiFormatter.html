<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>goog.i18n.BidiFormatter</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="content"><main><article><section class="intro" ><div class="header"><h1 class="title"><div class="tags"><span class="final"></span></div><div>Class goog.i18n.BidiFormatter</div></h1></div><div class="body"><table class="info"><tr class="info-row block" ><th class="info-head">Provided By</th><td class="info-cell" ><ul class="type-list"><li ><code class="expression"><a href="goog.i18n.BidiFormatter.html">goog.i18n.BidiFormatter</a></code></ul></td></tr></table><p>Utility class for formatting text for display in a potentially
opposite-directionality context without garbling. Provides the following
functionality:</p>
<ol><li>
<p>BiDi Wrapping
When text in one language is mixed into a document in another, opposite-
directionality language, e.g. when an English business name is embedded in a
Hebrew web page, both the inserted string and the text following it may be
displayed incorrectly unless the inserted string is explicitly separated
from the surrounding text in a &#34;wrapper&#34; that declares its directionality at
the start and then resets it back at the end. This wrapping can be done in
HTML mark-up (e.g. a &#39;span dir&#61;&#34;rtl&#34;&#39; tag) or - only in contexts where
mark-up can not be used - in Unicode BiDi formatting codes (LRE|RLE and PDF).
Providing such wrapping services is the basic purpose of the BiDi formatter.</p>
</li><li>
<p>Directionality estimation
How does one know whether a string about to be inserted into surrounding
text has the same directionality? Well, in many cases, one knows that this
must be the case when writing the code doing the insertion, e.g. when a
localized message is inserted into a localized page. In such cases there is
no need to involve the BiDi formatter at all. In the remaining cases, e.g.
when the string is user-entered or comes from a database, the language of
the string (and thus its directionality) is not known a priori, and must be
estimated at run-time. The BiDi formatter does this automatically.</p>
</li><li>
<p>Escaping
When wrapping plain text - i.e. text that is not already HTML or HTML-
escaped - in HTML mark-up, the text must first be HTML-escaped to prevent XSS
attacks and other nasty business. This of course is always true, but the
escaping can not be done after the string has already been wrapped in
mark-up, so the BiDi formatter also serves as a last chance and includes
escaping services.</p>
</li></ol>
<p>Thus, in a single call, the formatter will escape the input string as
specified, determine its directionality, and wrap it as necessary. It is
then up to the caller to insert the return value in the output.</p>
<p>See http://wiki/Main/TemplatesAndBiDi for more information.</p>
<h3 class="name"><div>new BidiFormatter( <var>contextDir</var>, <var>opt_alwaysSpan</var> )</div></h3><table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>contextDir</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">number</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|null)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The context
directionality, in one of the following formats:
1. A goog.i18n.bidi.Dir constant. NEUTRAL is treated the same as null,
i.e. unknown, for backward compatibility with legacy calls.
2. A number (positive &#61; LTR, negative &#61; RTL, 0 &#61; unknown).
3. A boolean (true &#61; RTL, false &#61; LTR).
4. A null for unknown directionality.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_alwaysSpan</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Whether <a href="goog.i18n.BidiFormatter.html"><code>#spanWrap</code></a> should always
use a &#39;span&#39; tag, even when the input directionality is neutral or
matches the context, so that the DOM structure of the output does not
depend on the combination of directionalities. Default: false.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/i18n/bidiformatter.js#L85" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="instance-methods"><h2>Instance Methods</h2><section class="property expandable"  id="dirAttr"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>dirAttr( <var>str</var>, <var>opt_isHtml</var> ) <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></div></h3></div><div class="body"><p>Returns &#39;dir&#61;&#34;ltr&#34;&#39; or &#39;dir&#61;&#34;rtl&#34;&#39;, depending on <code>str</code>&#39;s estimated
directionality, if it is not the same as the context directionality.
Otherwise, returns the empty string.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>str</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Text whose directionality is to be estimated.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_isHtml</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Whether <code>str</code> is HTML / HTML-escaped.
Default: false.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>&#39;dir&#61;&#34;rtl&#34;&#39; for RTL text in non-RTL context; &#39;dir&#61;&#34;ltr&#34;&#39; for
LTR text in non-LTR context; else, the empty string.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/i18n/bidiformatter.js#L251" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="dirAttrValue"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>dirAttrValue( <var>str</var>, <var>opt_isHtml</var> ) <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></div></h3></div><div class="body"><p>Returns &#34;rtl&#34; if <code>str</code>&#39;s estimated directionality is RTL, and &#34;ltr&#34; if
it is LTR. In case it&#39;s NEUTRAL, returns &#34;rtl&#34; if the context directionality
is RTL, and &#34;ltr&#34; otherwise.
Needed for GXP, which can&#39;t handle dirAttr.
Example use case:
&lt;td expr:dir&#61;&#39;bidiFormatter.dirAttrValue(foo)&#39;&gt;
&lt;gxp:eval expr&#61;&#39;foo&#39;&gt;
&lt;/td&gt;</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>str</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Text whose directionality is to be estimated.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_isHtml</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Whether <code>str</code> is HTML / HTML-escaped.
Default: false.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>&#34;rtl&#34; or &#34;ltr&#34;, according to the logic described above.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/i18n/bidiformatter.js#L221" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="endEdge"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>endEdge() <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></div></h3></div><div class="body"><p>Returns &#39;left&#39; for RTL context directionality. Otherwise (LTR or neutral /
unknown context directionality) returns &#39;right&#39;.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><p>None.</p></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>&#39;left&#39; for RTL context directionality and &#39;right&#39; for other
context directionality.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/i18n/bidiformatter.js#L552" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="estimateDirection"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>estimateDirection( <var>str</var>, <var>opt_isHtml</var> ) <var class="yield">→</var> <code class="expression"><a href="goog.i18n.bidi.Dir.html">goog.i18n.bidi.Dir</a></code></div></h3></div><div class="body"><p>Returns the directionality of input argument <code>str</code>.
Identical to <a href="goog.i18n.bidi.html#estimateDirection"><code>goog.i18n.bidi.estimateDirection</code></a>.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>str</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The input text.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_isHtml</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Whether <code>str</code> is HTML / HTML-escaped.
Default: false.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="goog.i18n.bidi.Dir.html">goog.i18n.bidi.Dir</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>Estimated overall directionality of <code>str</code>.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/i18n/bidiformatter.js#L155" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="getAlwaysSpan"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>getAlwaysSpan() <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a></code></div></h3></div><div class="body"><table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><p>None.</p></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>Whether alwaysSpan is set.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/i18n/bidiformatter.js#L116" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="getContextDir"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>getContextDir() <var class="yield">→</var> <code class="expression">(<a href="goog.i18n.bidi.Dir.html">goog.i18n.bidi.Dir</a>|null)</code></div></h3></div><div class="body"><table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><p>None.</p></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression">(<a href="goog.i18n.bidi.Dir.html">goog.i18n.bidi.Dir</a>|null)</code></td></tr><tr class="info-row" ><td class="info-cell" ><p>The context directionality.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/i18n/bidiformatter.js#L108" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="knownDirAttr"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>knownDirAttr( <var>dir</var> ) <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></div></h3></div><div class="body"><p>Returns &#39;dir&#61;&#34;ltr&#34;&#39; or &#39;dir&#61;&#34;rtl&#34;&#39;, depending on the given directionality, if
it is not the same as the context directionality. Otherwise, returns the
empty string.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>dir</var></td><td class="info-cell" ><code class="expression"><a href="goog.i18n.bidi.Dir.html">goog.i18n.bidi.Dir</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>A directionality.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>&#39;dir&#61;&#34;rtl&#34;&#39; for RTL text in non-RTL context; &#39;dir&#61;&#34;ltr&#34;&#39; for
LTR text in non-LTR context; else, the empty string.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/i18n/bidiformatter.js#L265" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="knownDirAttrValue"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>knownDirAttrValue( <var>dir</var> ) <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></div></h3></div><div class="body"><p>Returns &#34;rtl&#34; if the given directionality is RTL, and &#34;ltr&#34; if it is LTR. In
case it&#39;s NEUTRAL, returns &#34;rtl&#34; if the context directionality is RTL, and
&#34;ltr&#34; otherwise.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>dir</var></td><td class="info-cell" ><code class="expression"><a href="goog.i18n.bidi.Dir.html">goog.i18n.bidi.Dir</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>A directionality.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>&#34;rtl&#34; or &#34;ltr&#34;, according to the logic described above.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/i18n/bidiformatter.js#L234" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="mark"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>mark() <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></div></h3></div><div class="body"><p>Returns the Unicode BiDi mark matching the context directionality (LRM for
LTR context directionality, RLM for RTL context directionality), or the
empty string for neutral / unknown context directionality.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><p>None.</p></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>LRM for LTR context directionality and RLM for RTL context
directionality.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/i18n/bidiformatter.js#L520" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="markAfter"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>markAfter( <var>str</var>, <var>opt_isHtml</var> ) <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></div></h3></div><div class="body"><p>Returns a Unicode BiDi mark matching the context directionality (LRM or RLM)
if the directionality or the exit directionality of <code>str</code> are opposite
to the context directionality. Otherwise returns the empty string.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>str</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The input text.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_isHtml</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Whether <code>str</code> is HTML / HTML-escaped.
Default: false.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>A Unicode bidi mark matching the global directionality or
the empty string.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/i18n/bidiformatter.js#L485" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="markAfterKnownDir"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>markAfterKnownDir( <var>dir</var>, <var>str</var>, <var>opt_isHtml</var> ) <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></div></h3></div><div class="body"><p>Returns a Unicode BiDi mark matching the context directionality (LRM or RLM)
if the given directionality or the exit directionality of <code>str</code> are
opposite to the context directionality. Otherwise returns the empty string.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>dir</var></td><td class="info-cell" ><code class="expression">(<a href="goog.i18n.bidi.Dir.html">goog.i18n.bidi.Dir</a>|null)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p><code>str</code>&#39;s overall directionality, or
null if unknown and needs to be estimated.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>str</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The input text.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_isHtml</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Whether <code>str</code> is HTML / HTML-escaped.
Default: false.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>A Unicode bidi mark matching the global directionality or
the empty string.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/i18n/bidiformatter.js#L503" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="setAlwaysSpan"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>setAlwaysSpan( <var>alwaysSpan</var> ) <var class="yield">→</var> <code class="expression"><i>void</i></code></div></h3></div><div class="body"><table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>alwaysSpan</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Whether <a href="goog.i18n.BidiFormatter.html"><code>#spanWrap</code></a> should always use a
&#39;span&#39; tag, even when the input directionality is neutral or matches the
context, so that the DOM structure of the output does not depend on the
combination of directionalities.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/i18n/bidiformatter.js#L141" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="setContextDir"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>setContextDir( <var>contextDir</var> ) <var class="yield">→</var> <code class="expression"><i>void</i></code></div></h3></div><div class="body"><table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>contextDir</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">number</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|null)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The context
directionality, in one of the following formats:
1. A goog.i18n.bidi.Dir constant. NEUTRAL is treated the same as null,
i.e. unknown.
2. A number (positive &#61; LTR, negative &#61; RTL, 0 &#61; unknown).
3. A boolean (true &#61; RTL, false &#61; LTR).
4. A null for unknown directionality.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/i18n/bidiformatter.js#L130" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="spanWrapSafeHtml"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>spanWrapSafeHtml( <var>html</var>, <var>opt_dirReset</var> ) <var class="yield">→</var> <code class="expression"><a href="goog.html.SafeHtml.html">goog.html.SafeHtml</a></code></div></h3></div><div class="body"><p>Formats a string of unknown directionality for use in HTML output of the
context directionality, so an opposite-directionality string is neither
garbled nor garbles what follows it.
The algorithm: estimates the directionality of input argument <code>html</code>.
In case its directionality doesn&#39;t match the context directionality, wraps it
with a &#39;span&#39; tag and adds a &#34;dir&#34; attribute (either &#39;dir&#61;&#34;rtl&#34;&#39; or
&#39;dir&#61;&#34;ltr&#34;&#39;). If setAlwaysSpan(true) was used, the input is always wrapped
with &#39;span&#39;, skipping just the dir attribute when it&#39;s not needed.</p>
<p>If <code>opt_dirReset</code>, and if the overall directionality or the exit
directionality of <code>str</code> are opposite to the context directionality, a
trailing unicode BiDi mark matching the context directionality is appened
(LRM or RLM).</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>html</var></td><td class="info-cell" ><code class="expression"><a href="goog.html.SafeHtml.html">goog.html.SafeHtml</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The input HTML.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_dirReset</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Whether to append a trailing unicode bidi mark
matching the context directionality, when needed, to prevent the possible
garbling of whatever may follow <code>html</code>. Default: true.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="goog.html.SafeHtml.html">goog.html.SafeHtml</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>Input text after applying the processing.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/i18n/bidiformatter.js#L296" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="spanWrapSafeHtmlWithKnownDir"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>spanWrapSafeHtmlWithKnownDir( <var>dir</var>, <var>html</var>, <var>opt_dirReset</var> ) <var class="yield">→</var> <code class="expression"><a href="goog.html.SafeHtml.html">goog.html.SafeHtml</a></code></div></h3></div><div class="body"><p>Formats a string of given directionality for use in HTML output of the
context directionality, so an opposite-directionality string is neither
garbled nor garbles what follows it.
The algorithm: If <code>dir</code> doesn&#39;t match the context directionality, wraps
<code>html</code> with a &#39;span&#39; tag and adds a &#34;dir&#34; attribute (either &#39;dir&#61;&#34;rtl&#34;&#39;
or &#39;dir&#61;&#34;ltr&#34;&#39;). If setAlwaysSpan(true) was used, the input is always wrapped
with &#39;span&#39;, skipping just the dir attribute when it&#39;s not needed.</p>
<p>If <code>opt_dirReset</code>, and if <code>dir</code> or the exit directionality of
<code>html</code> are opposite to the context directionality, a trailing unicode
BiDi mark matching the context directionality is appened (LRM or RLM).</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>dir</var></td><td class="info-cell" ><code class="expression">(<a href="goog.i18n.bidi.Dir.html">goog.i18n.bidi.Dir</a>|null)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p><code>html</code>&#39;s overall directionality, or
null if unknown and needs to be estimated.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>html</var></td><td class="info-cell" ><code class="expression"><a href="goog.html.SafeHtml.html">goog.html.SafeHtml</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The input HTML.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_dirReset</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Whether to append a trailing unicode bidi mark
matching the context directionality, when needed, to prevent the possible
garbling of whatever may follow <code>html</code>. Default: true.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="goog.html.SafeHtml.html">goog.html.SafeHtml</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>Input text after applying the processing.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/i18n/bidiformatter.js#L323" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="startEdge"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>startEdge() <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></div></h3></div><div class="body"><p>Returns &#39;right&#39; for RTL context directionality. Otherwise (LTR or neutral /
unknown context directionality) returns &#39;left&#39;.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><p>None.</p></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>&#39;right&#39; for RTL context directionality and &#39;left&#39; for other
context directionality.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/i18n/bidiformatter.js#L539" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="unicodeWrap"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>unicodeWrap( <var>str</var>, <var>opt_isHtml</var>, <var>opt_dirReset</var> ) <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></div></h3></div><div class="body"><p>Formats a string of unknown directionality for use in plain-text output of
the context directionality, so an opposite-directionality string is neither
garbled nor garbles what follows it.
As opposed to <a href="goog.i18n.BidiFormatter.html"><code>#spanWrap</code></a>, this makes use of unicode BiDi formatting
characters. In HTML, its <em>only</em> valid use is inside of elements that do not
allow mark-up, e.g. an &#39;option&#39; tag.
The algorithm: estimates the directionality of input argument <code>str</code>.
In case it doesn&#39;t match  the context directionality, wraps it with Unicode
BiDi formatting characters: RLE<code>str</code>PDF for RTL text, and
LRE<code>str</code>PDF for LTR text.</p>
<p>If <code>opt_dirReset</code>, and if the overall directionality or the exit
directionality of <code>str</code> are opposite to the context directionality, a
trailing unicode BiDi mark matching the context directionality is appended
(LRM or RLM).</p>
<p>Does <em>not</em> do HTML-escaping regardless of the value of <code>opt_isHtml</code>.
The return value can be HTML-escaped as necessary.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>str</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The input text.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_isHtml</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Whether <code>str</code> is HTML / HTML-escaped.
Default: false.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_dirReset</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Whether to append a trailing unicode bidi mark
matching the context directionality, when needed, to prevent the possible
garbling of whatever may follow <code>str</code>. Default: true.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>Input text after applying the above processing.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/i18n/bidiformatter.js#L397" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="unicodeWrapWithKnownDir"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>unicodeWrapWithKnownDir( <var>dir</var>, <var>str</var>, <var>opt_isHtml</var>, <var>opt_dirReset</var> ) <var class="yield">→</var> <code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></div></h3></div><div class="body"><p>Formats a string of given directionality for use in plain-text output of the
context directionality, so an opposite-directionality string is neither
garbled nor garbles what follows it.
As opposed to <a href="goog.i18n.BidiFormatter.html"><code>#spanWrapWithKnownDir</code></a>, makes use of unicode BiDi
formatting characters. In HTML, its <em>only</em> valid use is inside of elements
that do not allow mark-up, e.g. an &#39;option&#39; tag.
The algorithm: If <code>dir</code> doesn&#39;t match the context directionality, wraps
<code>str</code> with Unicode BiDi formatting characters: RLE<code>str</code>PDF for
RTL text, and LRE<code>str</code>PDF for LTR text.</p>
<p>If <code>opt_dirReset</code>, and if the overall directionality or the exit
directionality of <code>str</code> are opposite to the context directionality, a
trailing unicode BiDi mark matching the context directionality is appended
(LRM or RLM).</p>
<p>Does <em>not</em> do HTML-escaping regardless of the value of <code>opt_isHtml</code>.
The return value can be HTML-escaped as necessary.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>dir</var></td><td class="info-cell" ><code class="expression">(<a href="goog.i18n.bidi.Dir.html">goog.i18n.bidi.Dir</a>|null)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p><code>str</code>&#39;s overall directionality, or
null if unknown and needs to be estimated.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>str</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The input text.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_isHtml</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Whether <code>str</code> is HTML / HTML-escaped.
Default: false.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_dirReset</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank">boolean</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Whether to append a trailing unicode bidi mark
matching the context directionality, when needed, to prevent the possible
garbling of whatever may follow <code>str</code>. Default: true.</p>
</td></tr></table></td></tr><tr class="info-row block" ><th class="info-head">Returns</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank">string</a></code></td></tr><tr class="info-row" ><td class="info-cell" ><p>Input text after applying the above processing.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/i18n/bidiformatter.js#L432" target="_blank" title="View source">VIEW SOURCE</a></div></div></section></section></article></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><script src="types.js"></script><script src="dossier.js"></script>