<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>goog.crypt.Arc4</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="content"><main><article><section class="intro" ><div class="header"><h1 class="title"><div class="tags"><span class="final"></span><span class="struct"></span></div><div>Class goog.crypt.Arc4</div></h1></div><div class="body"><table class="info"><tr class="info-row block" ><th class="info-head">Provided By</th><td class="info-cell" ><ul class="type-list"><li ><code class="expression"><a href="goog.crypt.Arc4.html">goog.crypt.Arc4</a></code></ul></td></tr></table><p>ARC4 streamcipher implementation.</p>
<h3 class="name"><div>new Arc4()</div></h3><table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><p>None.</p></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/crypt/arc4.js#L45" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="instance-methods"><h2>Instance Methods</h2><section class="property expandable"  id="crypt"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>crypt( <var>data</var>, <var>opt_length</var> ) <var class="yield">→</var> <code class="expression"><i>void</i></code></div></h3></div><div class="body"><p>En- or decrypt (same operation for streamciphers like ARC4)</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>data</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">number</a>&gt;|Uint8Array|null)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The data to be xor-ed in place.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_length</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">number</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>The number of bytes to crypt.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/crypt/arc4.js#L143" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="discard"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>discard( <var>length</var> ) <var class="yield">→</var> <code class="expression"><i>void</i></code></div></h3></div><div class="body"><p>Discards n bytes of the keystream.
These days 1536 is considered a decent amount to drop to get the key state
warmed-up enough for secure usage. This is not done in the constructor to
preserve efficiency for use cases that do not need this.
NOTE: Discard is identical to crypt without actually xoring any data. It&#39;s
unfortunate to have this code duplicated, but this was done for performance
reasons. Alternatives which were attempted:</p>
<ol><li>Create a temp array of the correct length and pass it to crypt. This
works but needlessly allocates an array. But more importantly this
requires choosing an array type (Array or Uint8Array) in discard, and
choosing a different type than will be passed to crypt by the client
code hurts the javascript engines ability to optimize crypt (7x hit in
v8).</li><li>Make data option in crypt so discard can pass null, this has a huge
perf hit for crypt.</li></ol>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>length</var></td><td class="info-cell" ><code class="expression"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">number</a></code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Number of bytes to disregard from the stream.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/crypt/arc4.js#L119" target="_blank" title="View source">VIEW SOURCE</a></div></div></section><section class="property expandable"  id="setKey"><div class="header"><div class="more"><i class="material-icons">expand_more</i></div><h3 class="name"><div><var>this.</var>setKey( <var>key</var>, <var>opt_length</var> ) <var class="yield">→</var> <code class="expression"><i>void</i></code></div></h3></div><div class="body"><p>Initialize the cipher for use with new key.</p>
<table class="info"><tr class="info-row block" ><th class="info-head">Parameters</th><td class="info-cell" ><table class="info detail"><tr class="info-row" ><td class="info-cell" ><var>key</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">number</a>&gt;|null)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>A byte array containing the key.</p>
</td></tr><tr class="info-row" ><td class="info-cell" ><var>opt_length</var></td><td class="info-cell" ><code class="expression">(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank">number</a>|undefined)</code></td></tr><tr class="info-row" ><td class="info-cell" ></td><td class="info-cell" ><p>Indicates # of bytes to take from the key.</p>
</td></tr></table></td></tr></table><div class="source"><a href="https://github.com/google/closure-library/blob/master/closure/goog/crypt/arc4.js#L74" target="_blank" title="View source">VIEW SOURCE</a></div></div></section></section></article></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><script src="types.js"></script><script src="dossier.js"></script>