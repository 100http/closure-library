<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>AbstractBubblePlugin</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_goog_editor_plugins.html">goog.editor.plugins</a></div><div class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l58">View Source</a></div><h1>class AbstractBubblePlugin</h1><pre class="inheritance"><a href="class_goog_Disposable.html">goog.Disposable</a>
  &#x2514; <a href="class_goog_events_EventTarget.html">goog.events.EventTarget</a>
      &#x2514; <a href="class_goog_editor_Plugin.html">goog.editor.Plugin</a>
          &#x2514; goog.editor.plugins.AbstractBubblePlugin</pre><dl><dt>All implemented interfaces:<dd><code><a href="interface_goog_disposable_IDisposable.html">goog.disposable.IDisposable</a></code>, <code><a href="interface_goog_events_Listenable.html">goog.events.Listenable</a></code></dl><p>Base class for bubble plugins. This is used for to connect user behavior in the editor to a goog.ui.editor.Bubble UI element that allows the user to modify the properties of an element on their page (e.g. the alt text of an image tag).</p><p>Subclasses should override the abstract method getBubbleTargetFromSelection() with code to determine if the current selection should activate the bubble type. The other abstract method createBubbleContents() should be overriden with code to create the inside markup of the bubble. The base class creates the rest of the bubble.</p><h2>Instance Methods</h2><div id="cleanOnBubbleClose" class="function"><div><h3>cleanOnBubbleClose()<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l516">code »</a></span></h3><p>Called when the bubble is closed or hidden. The default implementation does nothing.</p></div></div><hr class="fn-sep"><div id="closeBubble" class="function"><div><h3>closeBubble()<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l495">code »</a></span></h3><p>Closes the bubble.</p></div></div><hr class="fn-sep"><div id="createBubble" class="function"><div><h3>createBubble(<wbr>targetElement)<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l402">code »</a></span></h3><p>Creates and shows the property bubble.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>targetElement<code>Element</code><dd><p>The target element of the bubble.</p></dl></div></div></div></div><hr class="fn-sep"><div id="createBubbleContents" class="function"><div><h3>createBubbleContents(<wbr>bubbleContainer)<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l461">code »</a></span></h3><p>Should be overriden by subclasses to add the type specific contents to the  bubble.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>bubbleContainer<code>Element</code><dd><p>The container element of the bubble to  which the contents should be added.</p></dl></div></div></div></div><hr class="fn-sep"><div id="createLink" class="function"><div><h3>createLink(<wbr>linkId, linkText, opt_onClick, opt_container)<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l631">code »</a></span></h3><p>Helper method that creates a link with text set to linkText and optionally wires up a listener for the CLICK event or the link. The link is navigable by tabs if <code>enableKeyboardNavigation(true)</code> was called.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>linkId<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The id of the link.</p><dt>linkText<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Text of the link.</p><dt>opt_onClick<code>?Function=</code><dd><p>Optional function to call when the link is  clicked.</p><dt>opt_container<code>?Element=</code><dd><p>If specified, location to insert link. If no  container is specified, the old link is removed and replaced.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>Element</code><dd><p>The link element.</p></dl></div></div></div></div><hr class="fn-sep"><div id="createLinkHelper" class="function"><div><h3>createLinkHelper(<wbr>linkId, linkText, isAnchor, opt_container)<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l654">code »</a></span></h3><p>Helper method to create a link to insert into the bubble. The link is navigable by tabs if <code>enableKeyboardNavigation(true)</code> was called.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>linkId<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The id of the link.</p><dt>linkText<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Text of the link.</p><dt>isAnchor<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Set to true to create an actual anchor tag  instead of a span. Actual links are right clickable (e.g. to open in  a new window) and also update window status on hover.</p><dt>opt_container<code>?Element=</code><dd><p>If specified, location to insert link. If no  container is specified, the old link is removed and replaced.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>Element</code><dd><p>The link element.</p></dl></div></div></div></div><hr class="fn-sep"><div id="createLinkOption" class="function"><div><h3>createLinkOption(<wbr>id)<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l604">code »</a></span></h3><p>Helper method that creates option links (such as edit, test, remove)</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>id<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>String id for the span id.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>Element</code><dd><p>The option link element.</p></dl></div></div></div></div><hr class="fn-sep"><div id="disable" class="function"><div><h3>disable(<wbr>field)<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l356">code »</a></span></h3><p><b>Overrides: </b><a href="class_goog_editor_Plugin.html#disable">goog.editor.Plugin</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>field<code><a href="class_goog_editor_Field.html">goog.editor.Field</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="enableKeyboardNavigation" class="function"><div><h3>enableKeyboardNavigation(<wbr>keyboardNavigationEnabled)<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l208">code »</a></span></h3><p>Sets whether the bubble should support tabbing through elements.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>keyboardNavigationEnabled<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="getBubbleDom" class="function"><div><h3>getBubbleDom()<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l239">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_dom_DomHelper.html">goog.dom.DomHelper</a></code><dd><p>The dom helper for the bubble window.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getBubbleMap" class="function"><div><h3>getBubbleMap()<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l231">code »</a></span></h3><p>Returns the bubble map. Subclasses may override to use a separate map.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>&lt;?, <a href="class_goog_ui_editor_Bubble.html">goog.ui.editor.Bubble</a>&gt;</code></dl></div></div></div></div><hr class="fn-sep"><div id="getBubbleTargetFromSelection" class="function"><div><h3>getBubbleTargetFromSelection(<wbr>selectedElement)<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l351">code »</a></span></h3><p>Should be overriden by subclasses to return the bubble target element or null if an element of their required type isn&#39;t found.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>selectedElement<code>Element</code><dd><p>The target of the selection change event or  the parent container of the current entire selection.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>Element</code><dd><p>The HTML bubble target element or null if no element of  the required type is not found.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getBubbleTitle" class="function"><div><h3>getBubbleTitle()<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l440">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The title for bubble shown by this plugin. Defaults to no  title. Should be overridden by subclasses.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getBubbleType" class="function"><div><h3>getBubbleType()<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l430">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The type of bubble shown by this plugin. Usually the tag  name of the element this bubble targets.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getTargetElement" class="function"><div><h3>getTargetElement()<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l253">code »</a></span></h3><p>Returns the element whose properties the bubble manipulates.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>Element</code><dd><p>The target element.</p></dl></div></div></div></div><hr class="fn-sep"><div id="handleKeyDown" class="function"><div><h3>handleKeyDown(<wbr>e)<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l539">code »</a></span></h3><p>In case the keyboard navigation is enabled, this will set focus on the first tabbable element in the bubble when TAB is clicked.</p><p><b>Overrides: </b><a href="class_goog_editor_Plugin.html#handleKeyDown">goog.editor.Plugin</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>e<code><a href="class_goog_events_BrowserEvent.html">goog.events.BrowserEvent</a></code></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="handleKeyUp" class="function"><div><h3>handleKeyUp(<wbr>e)<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l260">code »</a></span></h3><p><b>Overrides: </b><a href="class_goog_editor_Plugin.html#handleKeyUp">goog.editor.Plugin</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>e<code><a href="class_goog_events_BrowserEvent.html">goog.events.BrowserEvent</a></code></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="handleSelectionChange" class="function"><div><h3>handleSelectionChange(<wbr>opt_e, opt_target)<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l276">code »</a></span></h3><p>Pops up a property bubble for the given selection if appropriate and closes open property bubbles if no longer needed. This should not be overridden.</p><p><b>Overrides: </b><a href="class_goog_editor_Plugin.html#handleSelectionChange">goog.editor.Plugin</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>opt_e<code><a href="class_goog_events_BrowserEvent.html">goog.events.BrowserEvent</a>=</code><dt>opt_target<code>Node=</code></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="handleSelectionChangeInternal" class="function"><div><h3>handleSelectionChangeInternal(<wbr>selectedElement)<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l318">code »</a></span></h3><p>Pops up a property bubble for the given selection if appropriate and closes open property bubbles if no longer needed.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>selectedElement<code>Element</code><dd><p>The selected element.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Always false, allowing every bubble plugin to handle the  event.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isVisible" class="function"><div><h3>isVisible()<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l582">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the bubble is visible.</p></dl></div></div></div></div><hr class="fn-sep"><div id="onShow" class="function"><div><h3>onShow()<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l508">code »</a></span></h3><p>Called after the bubble is shown. The default implementation does nothing. Override it to provide your own one.</p></div></div><hr class="fn-sep"><div id="registerActionHandler" class="function"><div><h3>registerActionHandler(<wbr>target, handler)<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l485">code »</a></span></h3><p>Register the handler for the target&#39;s CLICK and ENTER key events.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>target<code>Element</code><dd><p>The event source element.</p><dt>handler<code>Function</code><dd><p>The event handler.</p></dl></div></div></div></div><hr class="fn-sep"><div id="registerClickHandler" class="function"><div><h3>registerClickHandler(<wbr>target, handler)<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l473">code »</a></span></h3><div class="tags"><span>deprecated</span></div><p>Register the handler for the target&#39;s CLICK event.</p><p><b>Deprecated: </b>Use goog.editor.plugins.AbstractBubblePlugin.  registerActionHandler to register click and enter events.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>target<code>Element</code><dd><p>The event source element.</p><dt>handler<code>Function</code><dd><p>The event handler.</p></dl></div></div></div></div><hr class="fn-sep"><div id="reposition" class="function"><div><h3>reposition()<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l590">code »</a></span></h3><p>Reposition the property bubble.</p></div></div><hr class="fn-sep"><div id="setBubbleFactory" class="function"><div><h3>setBubbleFactory(<wbr>bubbleFactory)<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l198">code »</a></span></h3><p>Sets the instance bubble factory function. If set to a non-null value, this function will be used to create a bubble instead of the global factory function.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>bubbleFactory<code>?function(Element, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="class_goog_ui_editor_Bubble.html">goog.ui.editor.Bubble</a></code><dd><p>Function that creates a bubble for the given bubble parent element and z  index. Null to reset the factory function.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setBubbleParent" class="function"><div><h3>setBubbleParent(<wbr>bubbleParent)<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l220">code »</a></span></h3><p>Sets the bubble parent.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>bubbleParent<code>Element</code><dd><p>An element where the bubble will be  anchored. If null, we will use the application document. This  is useful when you have an editor embedded in a scrolling div.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setTabbable" class="function"><div><h3>setTabbable(<wbr>element)<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l682">code »</a></span></h3><p>Makes the given element tabbable.</p><p></p><p>Elements created by createLink[Helper] are tabbable even without calling this method. Call it for other elements if needed.</p><p></p><p>If tabindex is not already set in the element, this function sets it to 0. You&#39;ll usually want to also call <code>enableKeyboardNavigation(true)</code>.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>element<code>Element</code></dl></div></div></div></div><hr class="fn-sep"><div id="setupLink" class="function"><div><h3>setupLink(<wbr>link, linkId, opt_container)<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l700">code »</a></span></h3><p>Inserts a link in the given container if it is specified or removes the old link with this id and replaces it with the new link</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>link<code>Element</code><dd><p>Html element to insert.</p><dt>linkId<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Id of the link.</p><dt>opt_container<code>?Element=</code><dd><p>If specified, location to insert link.</p></dl></div></div></div></div><hr class="fn-sep"><div id="shouldPreferBubbleAboveElement" class="function"><div><h3>shouldPreferBubbleAboveElement()<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l450">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the bubble should prefer placement above the  target element.</p></dl></div></div></div></div><h2>Instance Properties</h2><div id="eventRegister" class="property"><dl><dt><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l67">eventRegister</a><code><a href="class_goog_events_EventHandler.html">goog.events.EventHandler</a>&lt;<a href="class_goog_editor_plugins_AbstractBubblePlugin.html">goog.editor.plugins.AbstractBubblePlugin</a>&gt;</code><dd><p>Place to register events the plugin listens to.</p></dl></div><h2>Static Functions</h2><div id="AbstractBubblePlugin.setBubbleFactory" class="function"><div><h3>AbstractBubblePlugin.setBubbleFactory(<wbr>bubbleFactory)<span class="codelink"><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l147">code »</a></span></h3><p>Sets the global bubble factory function.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>bubbleFactory<code>function(Element, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>): <a href="class_goog_ui_editor_Bubble.html">goog.ui.editor.Bubble</a></code><dd><p>Function that creates a bubble for the given bubble parent  element and z index.</p></dl></div></div></div></div><h2>Static Properties</h2><div id="AbstractBubblePlugin.DASH_NBSP_STRING" class="property"><dl><dt><a href="source/closure/goog/editor/plugins/abstractbubbleplugin.js.src.html#l114">AbstractBubblePlugin.DASH_NBSP_STRING</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The constant string used to separate option links.</p></dl></div></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>