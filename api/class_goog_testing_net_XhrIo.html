<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>XhrIo</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_goog_testing_net.html">goog.testing.net</a></div><div class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l45">View Source</a></div><h1>class XhrIo</h1><pre class="inheritance"><a href="class_goog_Disposable.html">goog.Disposable</a>
  &#x2514; <a href="class_goog_events_EventTarget.html">goog.events.EventTarget</a>
      &#x2514; goog.testing.net.XhrIo</pre><dl><dt>All implemented interfaces:<dd><code><a href="interface_goog_disposable_IDisposable.html">goog.disposable.IDisposable</a></code>, <code><a href="interface_goog_events_Listenable.html">goog.events.Listenable</a></code></dl><p>Mock implementation of goog.net.XhrIo. This doesn&#39;t provide a mock implementation for all cases, but it&#39;s not too hard to add them as needed.</p><h2 class="main">new XhrIo(<wbr>opt_testQueue)</h2><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>opt_testQueue<code>?<a href="class_goog_testing_TestQueue.html">goog.testing.TestQueue</a>=</code><dd><p>Test queue for inserting test  events.</p></dl></div></div><h2>Instance Methods</h2><div id="abort" class="function"><div><h3>abort(<wbr>opt_failureCode)<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l408">code »</a></span></h3><p>Abort the current XMLHttpRequest</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>opt_failureCode<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>Optional error code to use -  defaults to ABORT.</p></dl></div></div></div></div><hr class="fn-sep"><div id="createXhr" class="function"><div><h3>createXhr()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l458">code »</a></span></h3><p>Creates a new XHR object.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>(<a href="interface_goog_net_XhrLike.html">goog.net.XhrLike</a>|XMLHttpRequest)</code><dd><p>The newly created XHR  object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getAllResponseHeaders" class="function"><div><h3>getAllResponseHeaders()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l784">code »</a></span></h3><p>Gets the text of all the headers in the response. Will only return correct result when called from the context of a callback and the request has completed</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The string containing all the response headers.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getLastContent" class="function"><div><h3>getLastContent()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l680">code »</a></span></h3><p>Gets the last POST content that was requested.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Undefined">undefined</a>)</code><dd><p>Last POST content or undefined if last request was  a GET.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getLastError" class="function"><div><h3>getLastError()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l652">code »</a></span></h3><p>Gets the last error message.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Last error message.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getLastErrorCode" class="function"><div><h3>getLastErrorCode()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l643">code »</a></span></h3><p>Gets the last error message.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>Last error code.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getLastMethod" class="function"><div><h3>getLastMethod()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l670">code »</a></span></h3><p>Gets the last HTTP method that was requested.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Undefined">undefined</a>)</code><dd><p>Last HTTP method used by send.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getLastRequestHeaders" class="function"><div><h3>getLastRequestHeaders()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l690">code »</a></span></h3><p>Gets the headers of the last request.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>?(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code><dd><p>Last headers manually set in send  call or undefined if no additional headers were specified.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getLastUri" class="function"><div><h3>getLastUri()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l661">code »</a></span></h3><p>Gets the last URI that was requested.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Last URI.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getProgressEventsEnabled" class="function"><div><h3>getProgressEventsEnabled()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l398">code »</a></span></h3><p>Gets whether progress events are enabled.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether progress events are enabled for this request.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getReadyState" class="function"><div><h3>getReadyState()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l614">code »</a></span></h3><p>Returns the readystate.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>goog.net.XmlHttp.ReadyState.*.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getResponse" class="function"><div><h3>getResponse()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l761">code »</a></span></h3><p>Get the response as the type specificed by <a href="class_goog_testing_net_XhrIo.html#setResponseType"><code>#setResponseType</code></a>. At time of writing, this is only supported in very recent versions of WebKit (10.0.612.1 dev and later).</p><div><div class="fn-details"><div><b>Returns</b></div><p>The response.</p></div></div></div></div><hr class="fn-sep"><div id="getResponseBody" class="function"><div><h3>getResponseBody()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l717">code »</a></span></h3><p>Gets the response body from the Xhr object. Will only return correct result when called from the context of a callback.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>Binary result from the server or null.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getResponseHeader" class="function"><div><h3>getResponseHeader(<wbr>key)<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l773">code »</a></span></h3><p>Get the value of the response-header with the given name from the Xhr object Will only return correct result when called from the context of a callback and the request has completed</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>key<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The name of the response-header to retrieve.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Undefined">undefined</a>)</code><dd><p>The value of the response-header named key.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getResponseHeaders" class="function"><div><h3>getResponseHeaders()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l810">code »</a></span></h3><p>Returns all response headers as a key-value map. Multiple values for the same header key can be combined into one, separated by a comma and a space. Note that the native getResponseHeader method for retrieving a single header does a case insensitive match on the header name. This method does not include any case normalization logic, it will just return a key-value representation of the headers. See: http://www.w3.org/TR/XMLHttpRequest/#the-getresponseheader()-method</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;</code><dd><p>An object with the header keys as keys  and header values as values.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getResponseJson" class="function"><div><h3>getResponseJson(<wbr>opt_xssiPrefix)<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l730">code »</a></span></h3><p>Gets the response and evaluates it as JSON from the Xhr object. Will only return correct result when called from the context of a callback.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>opt_xssiPrefix<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>=</code><dd><p>Optional XSSI prefix string to use for  stripping of the response before parsing. This needs to be set only if  your backend server prepends the same prefix string to the JSON response.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>JavaScript object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getResponseText" class="function"><div><h3>getResponseText()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l700">code »</a></span></h3><p>Gets the response text from the Xhr object. Will only return correct result when called from the context of a callback.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Result from the server.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getResponseType" class="function"><div><h3>getResponseType()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l353">code »</a></span></h3><p>Gets the desired type for the response.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The desired type for the response.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getResponseXml" class="function"><div><h3>getResponseXml()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l745">code »</a></span></h3><p>Gets the response XML from the Xhr object. Will only return correct result when called from the context of a callback.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>Document</code><dd><p>Result from the server if it was XML.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getStatus" class="function"><div><h3>getStatus()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l624">code »</a></span></h3><p>Get the status from the Xhr object. Will only return correct result when called from the context of a callback.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>Http status.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getStatusText" class="function"><div><h3>getStatusText()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l634">code »</a></span></h3><p>Get the status text from the Xhr object. Will only return correct result when called from the context of a callback.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Status text.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getTimeoutInterval" class="function"><div><h3>getTimeoutInterval()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l310">code »</a></span></h3><p>Returns the number of milliseconds after which an incomplete request will be aborted, or 0 if no timeout is set.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>Timeout interval in milliseconds.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getWithCredentials" class="function"><div><h3>getWithCredentials()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l377">code »</a></span></h3><p>Gets whether a &#34;credentialed&#34; request is to be sent.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>The desired type for the response.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isActive" class="function"><div><h3>isActive()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l573">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether there is an active request.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isComplete" class="function"><div><h3>isComplete()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l582">code »</a></span></h3><p>Has the request completed.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the request has completed.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isSuccess" class="function"><div><h3>isSuccess()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l591">code »</a></span></h3><p>Has the request compeleted with a success.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the request compeleted successfully.</p></dl></div></div></div></div><hr class="fn-sep"><div id="send" class="function"><div><h3>send(<wbr>url, opt_method, opt_content, opt_headers)<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l431">code »</a></span></h3><p>Simulates the XhrIo send.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>url<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Uri to make request too.</p><dt>opt_method<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>=</code><dd><p>Send method, default: GET.</p><dt>opt_content<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>=</code><dd><p>Post data.</p><dt>opt_headers<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>=</code><dd><p>Map of headers to add to the  request.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setProgressEventsEnabled" class="function"><div><h3>setProgressEventsEnabled(<wbr>enabled)<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l389">code »</a></span></h3><p>Sets whether progress events are enabled for this request. Note that progress events require pre-flight OPTIONS request handling for CORS requests, and may cause trouble with older browsers. See goog.net.XhrIo.progressEventsEnabled_ for details.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>enabled<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether progress events should be enabled.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setResponseType" class="function"><div><h3>setResponseType(<wbr>type)<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l344">code »</a></span></h3><p>Sets the desired type for the response. At time of writing, this is only supported in very recent versions of WebKit (10.0.612.1 dev and later).</p><p>If this is used, the response may only be accessed via <a href="class_goog_testing_net_XhrIo.html#getResponse"><code>#getResponse</code></a>.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>type<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The desired type for the response.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setTimeoutInterval" class="function"><div><h3>setTimeoutInterval(<wbr>ms)<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l321">code »</a></span></h3><p>Sets the number of milliseconds after which an incomplete request will be aborted and a <a href="enum_goog_net_EventType.html#TIMEOUT"><code>goog.net.EventType.TIMEOUT</code></a> event raised; 0 means no timeout is set.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>ms<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>Timeout interval in milliseconds; 0 means none.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setWithCredentials" class="function"><div><h3>setWithCredentials(<wbr>withCredentials)<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l367">code »</a></span></h3><p>Sets whether a &#34;credentialed&#34; request that is aware of cookie and authentication information should be made. This option is only supported by browsers that support HTTP Access Control. As of this writing, this option is not supported in IE.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>withCredentials<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether this should be a &#34;credentialed&#34;  request.</p></dl></div></div></div></div><hr class="fn-sep"><div id="simulatePartialResponse" class="function"><div><h3>simulatePartialResponse(<wbr>partialResponse, opt_headers)<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l498">code »</a></span></h3><p>Simulate receiving some bytes but the request not fully completing, and the XHR entering the &#39;INTERACTIVE&#39; state.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>partialResponse<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>A string to append to the response text.</p><dt>opt_headers<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>=</code><dd><p>Simulated response headers.</p></dl></div></div></div></div><hr class="fn-sep"><div id="simulateProgress" class="function"><div><h3>simulateProgress(<wbr>lengthComputable, loaded, total, opt_isDownload)<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l553">code »</a></span></h3><p>Simulates the Xhr progress event.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>lengthComputable<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether progress is measurable.</p><dt>loaded<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>Amount of work already performed.</p><dt>total<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>Total amount of work to perform.</p><dt>opt_isDownload<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>=</code><dd><p>Whether the progress is from a download or  upload.</p></dl></div></div></div></div><hr class="fn-sep"><div id="simulateReady" class="function"><div><h3>simulateReady()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l538">code »</a></span></h3><p>Simulates the Xhr is ready for the next request.</p></div></div><hr class="fn-sep"><div id="simulateReadyStateChange" class="function"><div><h3>simulateReadyStateChange(<wbr>readyState)<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l467">code »</a></span></h3><p>Simulates changing to the new ready state.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>readyState<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>Ready state to change to.</p></dl></div></div></div></div><hr class="fn-sep"><div id="simulateResponse" class="function"><div><h3>simulateResponse(<wbr>statusCode, response, opt_headers)<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l513">code »</a></span></h3><p>Simulates receiving a response.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>statusCode<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>Simulated status code.</p><dt>response<code>?(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|Document|ArrayBuffer)</code><dd><p>Simulated response.</p><dt>opt_headers<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>=</code><dd><p>Simulated response headers.</p></dl></div></div></div></div><hr class="fn-sep"><div id="simulateTimeout" class="function"><div><h3>simulateTimeout()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l329">code »</a></span></h3><p>Causes timeout events to be fired.</p></div></div><h2>Instance Properties</h2><div id="headers" class="property"><dl><dt><a href="source/closure/goog/testing/net/xhrio.js.src.html#l53">headers</a><code><a href="class_goog_structs_Map.html">goog.structs.Map</a></code><dd><p>Map of default headers to add to every request, use: XhrIo.headers.set(name, value)</p></dl></div><h2>Static Functions</h2><div id="XhrIo.cleanup" class="function"><div><h3>XhrIo.cleanup()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l105">code »</a></span></h3><p>Disposes all non-disposed instances of goog.testing.net.XhrIo created by <a href="class_goog_testing_net_XhrIo.html#send"><code>goog.testing.net.XhrIo.send</code></a>.</p></div></div><hr class="fn-sep"><div id="XhrIo.getSendInstances" class="function"><div><h3>XhrIo.getSendInstances()<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l95">code »</a></span></h3><p>Returns an Array containing all non-disposed instances of goog.testing.net.XhrIo created by <a href="class_goog_testing_net_XhrIo.html#send"><code>goog.testing.net.XhrIo.send</code></a>.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="class_goog_testing_net_XhrIo.html">goog.testing.net.XhrIo</a>&gt;</code><dd><p>Array of goog.testing.net.XhrIo  instances.</p></dl></div></div></div></div><hr class="fn-sep"><div id="XhrIo.send" class="function"><div><h3>XhrIo.send(<wbr>url, opt_callback, opt_method, opt_content, opt_headers, opt_timeoutInterval, opt_withCredentials)<span class="codelink"><a href="source/closure/goog/testing/net/xhrio.js.src.html#l128">code »</a></span></h3><p>Simulates the static XhrIo send method.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>url<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Uri to make request to.</p><dt>opt_callback<code>?Function=</code><dd><p>Callback function for when request is  complete.</p><dt>opt_method<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>=</code><dd><p>Send method, default: GET.</p><dt>opt_content<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>=</code><dd><p>Post data.</p><dt>opt_headers<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>=</code><dd><p>Map of headers to add to the  request.</p><dt>opt_timeoutInterval<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>Number of milliseconds after which an  incomplete request will be aborted; 0 means no timeout is set.</p><dt>opt_withCredentials<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>=</code><dd><p>Whether to send credentials with the  request. Default to false. See <a href="class_goog_net_XhrIo.html#setWithCredentials"><code>goog.net.XhrIo#setWithCredentials</code></a>.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_testing_net_XhrIo.html">goog.testing.net.XhrIo</a></code><dd><p>The mocked sent XhrIo.</p></dl></div></div></div></div><h2>Types</h2><dl><dt><a href="enum_goog_testing_net_XhrIo_ResponseType.html">XhrIo.ResponseType</a><dd><p>Alias this enum here to make mocking of goog.net.XhrIo easier.</p></dl></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>