<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>LinkDialogPlugin</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_goog_editor_plugins.html">goog.editor.plugins</a></div><div class="codelink"><a href="source/closure/goog/editor/plugins/linkdialogplugin.js.src.html#l41">View Source</a></div><h1>class LinkDialogPlugin</h1><pre class="inheritance"><a href="class_goog_Disposable.html">goog.Disposable</a>
  &#x2514; <a href="class_goog_events_EventTarget.html">goog.events.EventTarget</a>
      &#x2514; <a href="class_goog_editor_Plugin.html">goog.editor.Plugin</a>
          &#x2514; <a href="class_goog_editor_plugins_AbstractDialogPlugin.html">goog.editor.plugins.AbstractDialogPlugin</a>
              &#x2514; goog.editor.plugins.LinkDialogPlugin</pre><dl><dt>All implemented interfaces:<dd><code><a href="interface_goog_disposable_IDisposable.html">goog.disposable.IDisposable</a></code>, <code><a href="interface_goog_events_Listenable.html">goog.events.Listenable</a></code></dl><p>A plugin that opens the link dialog.</p><h2>Instance Methods</h2><div id="createDialog" class="function"><div><h3>createDialog(<wbr>dialogDomHelper, opt_link)<span class="codelink"><a href="source/closure/goog/editor/plugins/linkdialogplugin.js.src.html#l280">code »</a></span></h3><p>Creates a new instance of the dialog and registers for the relevant events.</p><p><b>Overrides: </b><a href="class_goog_editor_plugins_AbstractDialogPlugin.html#createDialog">goog.editor.plugins.AbstractDialogPlugin</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>dialogDomHelper<code><a href="class_goog_dom_DomHelper.html">goog.dom.DomHelper</a></code><dd><p>The dom helper to be used to  create the dialog.</p><dt>opt_link<code>*=</code><dd><p>The target link (should be a goog.editor.Link).</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_ui_editor_LinkDialog.html">goog.ui.editor.LinkDialog</a></code><dd><p>The dialog.</p></dl></div></div></div></div><hr class="fn-sep"><div id="disposeInternal" class="function"><div><h3>disposeInternal()<span class="codelink"><a href="source/closure/goog/editor/plugins/linkdialogplugin.js.src.html#l306">code »</a></span></h3><p><b>Overrides: </b><a href="class_goog_editor_plugins_AbstractDialogPlugin.html#disposeInternal">goog.editor.plugins.AbstractDialogPlugin</a></p></div></div><hr class="fn-sep"><div id="execCommandInternal" class="function"><div><h3>execCommandInternal(<wbr>command, opt_arg)<span class="codelink"><a href="source/closure/goog/editor/plugins/linkdialogplugin.js.src.html#l231">code »</a></span></h3><p>Handles execCommand by opening the dialog.</p><p><b>Overrides: </b><a href="class_goog_editor_plugins_AbstractDialogPlugin.html#execCommandInternal">goog.editor.plugins.AbstractDialogPlugin</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>command<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The command to execute.</p><dt>opt_arg<code>*=</code><dd><p><code>goog.editor.Link</code> object representing the link  being edited.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><p>Always returns true, indicating the dialog was shown.</p></div></div></div></div><hr class="fn-sep"><div id="getCurrentLink" class="function"><div><h3>getCurrentLink()<span class="codelink"><a href="source/closure/goog/editor/plugins/linkdialogplugin.js.src.html#l266">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_editor_Link.html">goog.editor.Link</a></code><dd><p>The link being edited.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getEventHandler" class="function"><div><h3><code>&lt;T&gt;</code> getEventHandler()<span class="codelink"><a href="source/closure/goog/editor/plugins/linkdialogplugin.js.src.html#l257">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_events_EventHandler.html">goog.events.EventHandler</a>&lt;T&gt;</code><dd><p>The event handler.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getOpenLinkInNewWindowCheckedState" class="function"><div><h3>getOpenLinkInNewWindowCheckedState()<span class="codelink"><a href="source/closure/goog/editor/plugins/linkdialogplugin.js.src.html#l189">code »</a></span></h3><p>Returns whether the&#34;open link in new window&#34; checkbox was checked last time the dialog was closed.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the&#34;open link in new window&#34; checkbox was checked  last time the dialog was closed.</p></dl></div></div></div></div><hr class="fn-sep"><div id="handleAfterHide" class="function"><div><h3>handleAfterHide(<wbr>e)<span class="codelink"><a href="source/closure/goog/editor/plugins/linkdialogplugin.js.src.html#l245">code »</a></span></h3><p>Handles when the dialog closes.</p><p><b>Overrides: </b><a href="class_goog_editor_plugins_AbstractDialogPlugin.html#handleAfterHide">goog.editor.plugins.AbstractDialogPlugin</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>e<code><a href="class_goog_events_Event.html">goog.events.Event</a></code><dd><p>The AFTER_HIDE event object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="handleBeforeTestLink" class="function"><div><h3>handleBeforeTestLink(<wbr>e)<span class="codelink"><a href="source/closure/goog/editor/plugins/linkdialogplugin.js.src.html#l404">code »</a></span></h3><p>Handles the BeforeTestLink event fired when the &#39;test&#39; link is clicked.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>e<code><a href="class_goog_ui_editor_LinkDialog_BeforeTestLinkEvent.html">goog.ui.editor.LinkDialog.BeforeTestLinkEvent</a></code><dd><p>BeforeTestLink event  object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="handleOk" class="function"><div><h3>handleOk(<wbr>e)<span class="codelink"><a href="source/closure/goog/editor/plugins/linkdialogplugin.js.src.html#l317">code »</a></span></h3><p>Handles the OK event from the dialog by updating the link in the field.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>e<code><a href="class_goog_ui_editor_LinkDialog_OkEvent.html">goog.ui.editor.LinkDialog.OkEvent</a></code><dd><p>OK event object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setBlockOpeningUnsafeSchemes" class="function"><div><h3>setBlockOpeningUnsafeSchemes(<wbr>blockOpeningUnsafeSchemes)<span class="codelink"><a href="source/closure/goog/editor/plugins/linkdialogplugin.js.src.html#l140">code »</a></span></h3><p>Tells the plugin whether to block URLs with schemes not in the whitelist. If blocking is enabled, this plugin will stop the &#39;Test Link&#39; popup window from being created. Blocking doesn&#39;t affect link creation--if the user clicks the &#39;OK&#39; button with an unsafe URL, the link will still be created as normal.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>blockOpeningUnsafeSchemes<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether to block non-whitelisted  schemes.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setEmailWarning" class="function"><div><h3>setEmailWarning(<wbr>emailWarning)<span class="codelink"><a href="source/closure/goog/editor/plugins/linkdialogplugin.js.src.html#l216">code »</a></span></h3><p>Sets the warning message to show to users about including email addresses on public web pages.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>emailWarning<code><a href="class_goog_html_SafeHtml.html">goog.html.SafeHtml</a></code><dd><p>Warning message to show users about  including email addresses on the web.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setSafeToOpenSchemes" class="function"><div><h3>setSafeToOpenSchemes(<wbr>schemes)<span class="codelink"><a href="source/closure/goog/editor/plugins/linkdialogplugin.js.src.html#l154">code »</a></span></h3><p>Sets a whitelist of allowed URL schemes that are safe to open. Schemes should all be in lowercase. If the plugin is set to block opening unsafe schemes, user-entered URLs will be converted to lowercase and checked against this list. The whitelist has no effect if blocking is not enabled.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>schemes<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;</code><dd><p>String array of URL schemes to allow (http,  https, etc.).</p></dl></div></div></div></div><hr class="fn-sep"><div id="shouldOpenUrl" class="function"><div><h3>shouldOpenUrl(<wbr>url)<span class="codelink"><a href="source/closure/goog/editor/plugins/linkdialogplugin.js.src.html#l422">code »</a></span></h3><p>Checks whether the plugin should open the given url in a new window.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>url<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The url to check.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>If the plugin should open the given url in a new window.</p></dl></div></div></div></div><hr class="fn-sep"><div id="showOpenLinkInNewWindow" class="function"><div><h3>showOpenLinkInNewWindow(<wbr>startChecked)<span class="codelink"><a href="source/closure/goog/editor/plugins/linkdialogplugin.js.src.html#l167">code »</a></span></h3><p>Tells the dialog to show a checkbox where the user can choose to have the link open in a new window.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>startChecked<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether to check the checkbox the first  time the dialog is shown. Subesquent times the checkbox will remember its  previous state.</p></dl></div></div></div></div><hr class="fn-sep"><div id="showRelNoFollow" class="function"><div><h3>showRelNoFollow()<span class="codelink"><a href="source/closure/goog/editor/plugins/linkdialogplugin.js.src.html#l178">code »</a></span></h3><p>Tells the dialog to show a checkbox where the user can choose to have &#39;rel&#61;nofollow&#39; attribute added to the link.</p></div></div><hr class="fn-sep"><div id="stopReferrerLeaks" class="function"><div><h3>stopReferrerLeaks()<span class="codelink"><a href="source/closure/goog/editor/plugins/linkdialogplugin.js.src.html#l205">code »</a></span></h3><p>Tells the plugin to stop leaking the page&#39;s url via the referrer header when the &#34;test this link&#34; link is clicked. When the user clicks on a link, the browser makes a request for the link url, passing the url of the current page in the request headers. If the user wants the current url to be kept secret (e.g. an unpublished document), the owner of the url that was clicked will see the secret url in the request headers, and it will no longer be a secret. Calling this method will not send a referrer header in the request, just as if the user had opened a blank window and typed the url in themselves.</p></div></div><h2>Instance Properties</h2><div id="currentLink_" class="property"><dl><dt><a href="source/closure/goog/editor/plugins/linkdialogplugin.js.src.html#l69">currentLink_</a><code><a href="class_goog_editor_Link.html">goog.editor.Link</a></code><dd><p>Link object that the dialog is editing.</p></dl></div></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>