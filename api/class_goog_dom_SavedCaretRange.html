<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>SavedCaretRange</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_goog_dom.html">goog.dom</a></div><div class="codelink"><a href="source/closure/goog/dom/savedcaretrange.js.src.html#l44">View Source</a></div><h1>class SavedCaretRange</h1><pre class="inheritance"><a href="class_goog_Disposable.html">goog.Disposable</a>
  &#x2514; <a href="class_goog_dom_SavedRange.html">goog.dom.SavedRange</a>
      &#x2514; goog.dom.SavedCaretRange</pre><dl><dt>All implemented interfaces:<dd><code><a href="interface_goog_disposable_IDisposable.html">goog.disposable.IDisposable</a></code></dl><p>A struct for holding context about saved selections. This can be used to preserve the selection and restore while the DOM is manipulated, or through an asynchronous call. Use goog.dom.Range factory methods to obtain an goog.dom.AbstractRange instance, and use goog.dom.AbstractRange#saveUsingCarets to obtain a SavedCaretRange. For editor ranges under content-editable elements or design-mode iframes, prefer using goog.editor.range.saveUsingNormalizedCarets.</p><h2 class="main">new SavedCaretRange(<wbr>range)</h2><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>range<code><a href="class_goog_dom_AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The range being saved.</p></dl></div></div><h2>Instance Methods</h2><div id="disposeInternal" class="function"><div><h3>disposeInternal()<span class="codelink"><a href="source/closure/goog/dom/savedcaretrange.js.src.html#l175">code »</a></span></h3><p>Dispose the saved range and remove the carets from the DOM.</p><p><b>Overrides: </b><a href="class_goog_Disposable.html#disposeInternal">goog.Disposable</a></p></div></div><hr class="fn-sep"><div id="getCaret" class="function"><div><h3>getCaret(<wbr>start)<span class="codelink"><a href="source/closure/goog/dom/savedcaretrange.js.src.html#l102">code »</a></span></h3><p>Gets carets.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>start<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>If true, returns the start caret. Otherwise, get the  end caret.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>Element</code><dd><p>The start or end caret in the given document.</p></dl></div></div></div></div><hr class="fn-sep"><div id="removeCarets" class="function"><div><h3>removeCarets(<wbr>opt_range)<span class="codelink"><a href="source/closure/goog/dom/savedcaretrange.js.src.html#l115">code »</a></span></h3><p>Removes the carets from the current restoration document.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>opt_range<code>?<a href="class_goog_dom_AbstractRange.html">goog.dom.AbstractRange</a>=</code><dd><p>A range whose offsets have already  been adjusted for caret removal; it will be adjusted if it is also  affected by post-removal operations, such as text node normalization.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>?(<a href="class_goog_dom_AbstractRange.html">goog.dom.AbstractRange</a>)</code><dd><p>The adjusted range, if opt_range  was provided.</p></dl></div></div></div></div><hr class="fn-sep"><div id="restoreInternal" class="function"><div><h3>restoreInternal()<span class="codelink"><a href="source/closure/goog/dom/savedcaretrange.js.src.html#l140">code »</a></span></h3><p>Reconstruct the selection from the given saved range. Removes carets after restoring the selection. If restore does not dispose this saved range, it may only be restored a second time if innerHTML or some other mechanism is used to restore the carets to the dom.</p><p><b>Overrides: </b><a href="class_goog_dom_SavedRange.html#restoreInternal">goog.dom.SavedRange</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_dom_AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>Restored selection.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setRestorationDocument" class="function"><div><h3>setRestorationDocument(<wbr>doc)<span class="codelink"><a href="source/closure/goog/dom/savedcaretrange.js.src.html#l126">code »</a></span></h3><p>Sets the document where the range will be restored.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>doc<code>Document</code><dd><p>An HTML document.</p></dl></div></div></div></div><hr class="fn-sep"><div id="toAbstractRange" class="function"><div><h3>toAbstractRange()<span class="codelink"><a href="source/closure/goog/dom/savedcaretrange.js.src.html#l84">code »</a></span></h3><p>Gets the range that this SavedCaretRage represents, without selecting it or removing the carets from the DOM.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_dom_AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>An abstract range.</p></dl></div></div></div></div><h2>Static Functions</h2><div id="SavedCaretRange.htmlEqual" class="function"><div><h3>SavedCaretRange.htmlEqual(<wbr>str1, str2)<span class="codelink"><a href="source/closure/goog/dom/savedcaretrange.js.src.html#l211">code »</a></span></h3><p>Returns whether two strings of html are equal, ignoring any saved carets. Thus two strings of html whose only difference is the id of their saved carets will be considered equal, since they represent html with the same selection.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>str1<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The first string.</p><dt>str2<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The second string.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether two strings of html are equal, ignoring any  saved carets.</p></dl></div></div></div></div><h2>Static Properties</h2><div id="SavedCaretRange.CARET_REGEX" class="property"><dl><dt><a href="source/closure/goog/dom/savedcaretrange.js.src.html#l198">SavedCaretRange.CARET_REGEX</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">RegExp</a></code><dd><p>A regex that will match all saved range carets in a string.</p></dl></div></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>