<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>KeyboardShortcutHandler</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_goog_ui.html">goog.ui</a></div><div class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l56">View Source</a></div><h1>class KeyboardShortcutHandler</h1><pre class="inheritance"><a href="class_goog_Disposable.html">goog.Disposable</a>
  &#x2514; <a href="class_goog_events_EventTarget.html">goog.events.EventTarget</a>
      &#x2514; goog.ui.KeyboardShortcutHandler</pre><dl><dt>All implemented interfaces:<dd><code><a href="interface_goog_disposable_IDisposable.html">goog.disposable.IDisposable</a></code>, <code><a href="interface_goog_events_Listenable.html">goog.events.Listenable</a></code></dl><p>Component for handling keyboard shortcuts. A shortcut is registered and bound to a specific identifier. Once the shortcut is triggered an event is fired with the identifier for the shortcut. This allows keyboard shortcuts to be customized without modifying the code that listens for them.</p><p>Supports keyboard shortcuts triggered by a single key, a stroke stroke (key plus at least one modifier) and a sequence of keys or strokes.</p><h2 class="main">new KeyboardShortcutHandler(<wbr>keyTarget)</h2><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>keyTarget<code>(<a href="class_goog_events_EventTarget.html">goog.events.EventTarget</a>|EventTarget)</code><dd><p>Event target that the  key event listener is attached to, typically the applications root  container.</p></dl></div></div><h2>Instance Methods</h2><div id="clearKeyListener" class="function"><div><h3>clearKeyListener()<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l834">code »</a></span></h3><p>Removes the listener that was added by link <a href="class_goog_ui_KeyboardShortcutHandler.html#initializeKeyListener"><code>#initializeKeyListener</code></a>.</p></div></div><hr class="fn-sep"><div id="disposeInternal" class="function"><div><h3>disposeInternal()<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l638">code »</a></span></h3><p><b>Overrides: </b><a href="class_goog_events_EventTarget.html#disposeInternal">goog.events.EventTarget</a></p></div></div><hr class="fn-sep"><div id="getAllShortcutsAreGlobal" class="function"><div><h3>getAllShortcutsAreGlobal()<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l422">code »</a></span></h3><p>Returns whether all shortcuts (including modifier shortcuts) are treated as if the keys had been passed to the setGlobalKeys function.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether all shortcuts are treated as globals.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getAlwaysPreventDefault" class="function"><div><h3>getAlwaysPreventDefault()<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l373">code »</a></span></h3><p>Returns whether the default action will always be prevented when a shortcut event is fired. The default value is true.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether preventDefault will always be called.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getAlwaysStopPropagation" class="function"><div><h3>getAlwaysStopPropagation()<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l399">code »</a></span></h3><p>Returns whether the event will always be stopped from propagating beyond its target when a shortcut event is fired. The default value is false.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether stopPropagation will always be called.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getEventType" class="function"><div><h3>getEventType(<wbr>identifier)<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l650">code »</a></span></h3><p>Returns event type for a specific shortcut.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>identifier<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Identifier for the shortcut task.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Theh event type.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getGlobalKeys" class="function"><div><h3>getGlobalKeys()<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l632">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;</code><dd><p>The global keys, i.e. keys that are safe to always  regard as shortcuts, even if entered in a textarea or input field.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getModifierShortcutsAreGlobal" class="function"><div><h3>getModifierShortcutsAreGlobal()<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l450">code »</a></span></h3><p>Returns whether shortcuts with modifiers are treated as if the keys had been passed to the setGlobalKeys function. Ignored if you have called setAllShortcutsAreGlobal(true). Applies only to form elements (not content-editable).</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether shortcuts with modifiers are treated as globals.</p></dl></div></div></div></div><hr class="fn-sep"><div id="initializeKeyListener" class="function"><div><h3>initializeKeyListener(<wbr>keyTarget)<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l713">code »</a></span></h3><p>Adds a key event listener that triggers <a href="class_goog_ui_KeyboardShortcutHandler.html#handleKeyDown_"><code>#handleKeyDown_</code></a> when keys are pressed.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>keyTarget<code>(<a href="class_goog_events_EventTarget.html">goog.events.EventTarget</a>|EventTarget)</code><dd><p>Event target that the  event listener should be attached to.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isShortcutRegistered" class="function"><div><h3>isShortcutRegistered(<wbr>var_args)<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l560">code »</a></span></h3><p>Verifies if a particular keyboard shortcut is registered already. It has the same interface as the unregistering of shortcuts.</p><p>param {number} keyCode Numeric code for key param {number&#61;} opt_modifiers Bitmap indicating required modifier keys.  goog.ui.KeyboardShortcutHandler.Modifiers.SHIFT, CONTROL,  ALT, or META.</p><p>The two parameters can be repeated any number of times to create a shortcut using a sequence of strokes.</p><p>A string representation of the shortcut can be supplied instead see <a href="class_goog_ui_KeyboardShortcutHandler.html#registerShortcut"><code>#registerShortcut</code></a> for syntax. In that case the method only takes one argument.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>var_args<code>...?(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;)</code><dd><p>String representation, or  array or list of alternating key codes and modifiers.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the specified keyboard shortcut is registered.</p></dl></div></div></div></div><hr class="fn-sep"><div id="registerShortcut" class="function"><div><h3>registerShortcut(<wbr>identifier, var_args)<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l504">code »</a></span></h3><p>Registers a keyboard shortcut.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>identifier<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Identifier for the task performed by the keyboard  combination. Multiple shortcuts can be provided for the same  task by specifying the same identifier.</p><dt>var_args<code>...?(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;)</code><dd><p>See below.</p><p>param {number} keyCode Numeric code for key param {number&#61;} opt_modifiers Bitmap indicating required modifier keys.  goog.ui.KeyboardShortcutHandler.Modifiers.SHIFT, CONTROL,  ALT, or META.</p><p>The last two parameters can be repeated any number of times to create a shortcut using a sequence of strokes. Instead of varagrs the second parameter could also be an array where each element would be ragarded as a parameter.</p><p>A string representation of the shortcut can be supplied instead of the last two parameters. In that case the method only takes two arguments, the identifier and the string.</p><p>Examples:  g registerShortcut(str, G_KEYCODE)  Ctrl&#43;g registerShortcut(str, G_KEYCODE, CTRL)  Ctrl&#43;Shift&#43;g registerShortcut(str, G_KEYCODE, CTRL | SHIFT)  Ctrl&#43;g a registerShortcut(str, G_KEYCODE, CTRL, A_KEYCODE)  Ctrl&#43;g Shift&#43;a registerShortcut(str, G_KEYCODE, CTRL, A_KEYCODE, SHIFT)  g a registerShortcut(str, G_KEYCODE, NONE, A_KEYCODE)</p><p>Examples using string representation for shortcuts:  g registerShortcut(str, &#39;g&#39;)  Ctrl&#43;g registerShortcut(str, &#39;ctrl&#43;g&#39;)  Ctrl&#43;Shift&#43;g registerShortcut(str, &#39;ctrl&#43;shift&#43;g&#39;)  Ctrl&#43;g a registerShortcut(str, &#39;ctrl&#43;g a&#39;)  Ctrl&#43;g Shift&#43;a registerShortcut(str, &#39;ctrl&#43;g shift&#43;a&#39;)  g a registerShortcut(str, &#39;g a&#39;).</p></dl></div></div></div></div><hr class="fn-sep"><div id="setAllShortcutsAreGlobal" class="function"><div><h3>setAllShortcutsAreGlobal(<wbr>allShortcutsGlobal)<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l410">code »</a></span></h3><p>Sets whether to treat all shortcuts (including modifier shortcuts) as if the keys had been passed to the setGlobalKeys function.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>allShortcutsGlobal<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether to treat all shortcuts as global.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setAllowSpaceKeyOnButtons" class="function"><div><h3>setAllowSpaceKeyOnButtons(<wbr>allowSpaceKeyOnButtons)<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l462">code »</a></span></h3><p>Sets whether to treat space key as a shortcut when the focused element is a checkbox, radiobutton or button.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>allowSpaceKeyOnButtons<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether to treat space key as a  shortcut when the focused element is a checkbox, radiobutton or button.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setAlwaysPreventDefault" class="function"><div><h3>setAlwaysPreventDefault(<wbr>alwaysPreventDefault)<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l361">code »</a></span></h3><p>Sets whether to always prevent the default action when a shortcut event is fired. If false, the default action is prevented only if preventDefault is called on either of the corresponding SHORTCUT_TRIGGERED or SHORTCUT_PREFIX events. If true, the default action is prevented whenever a shortcut event is fired. The default value is true.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>alwaysPreventDefault<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether to always call preventDefault.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setAlwaysStopPropagation" class="function"><div><h3>setAlwaysStopPropagation(<wbr>alwaysStopPropagation)<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l387">code »</a></span></h3><p>Sets whether to always stop propagation for the event when fired. If false, the propagation is stopped only if stopPropagation is called on either of the corresponding SHORT_CUT_TRIGGERED or SHORTCUT_PREFIX events. If true, the event is prevented from propagating beyond its target whenever it is fired. The default value is false.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>alwaysStopPropagation<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether to always call  stopPropagation.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setGlobalKeys" class="function"><div><h3>setGlobalKeys(<wbr>keys)<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l623">code »</a></span></h3><p>Sets the global keys; keys that are safe to always regarded as shortcuts, even if entered in a textarea or input field.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>keys<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;</code><dd><p>List of keys.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setModifierShortcutsAreGlobal" class="function"><div><h3>setModifierShortcutsAreGlobal(<wbr>modifierShortcutsGlobal)<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l436">code »</a></span></h3><p>Sets whether to treat shortcuts with modifiers as if the keys had been passed to the setGlobalKeys function. Ignored if you have called setAllShortcutsAreGlobal(true). Applies only to form elements (not content-editable).</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>modifierShortcutsGlobal<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether to treat shortcuts with  modifiers as global.</p></dl></div></div></div></div><hr class="fn-sep"><div id="unregisterAll" class="function"><div><h3>unregisterAll()<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l613">code »</a></span></h3><p>Unregisters all keyboard shortcuts.</p></div></div><hr class="fn-sep"><div id="unregisterShortcut" class="function"><div><h3>unregisterShortcut(<wbr>var_args)<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l532">code »</a></span></h3><p>Unregisters a keyboard shortcut by keyCode and modifiers or string representation of sequence.</p><p>param {number} keyCode Numeric code for key param {number&#61;} opt_modifiers Bitmap indicating required modifier keys.  goog.ui.KeyboardShortcutHandler.Modifiers.SHIFT, CONTROL,  ALT, or META.</p><p>The two parameters can be repeated any number of times to create a shortcut using a sequence of strokes.</p><p>A string representation of the shortcut can be supplied instead see <a href="class_goog_ui_KeyboardShortcutHandler.html#registerShortcut"><code>#registerShortcut</code></a> for syntax. In that case the method only takes one argument.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>var_args<code>...?(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>&gt;)</code><dd><p>String representation, or  array or list of alternating key codes and modifiers.</p></dl></div></div></div></div><h2>Static Functions</h2><div id="KeyboardShortcutHandler.getKeyCode" class="function"><div><h3>KeyboardShortcutHandler.getKeyCode(<wbr>name)<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l336">code »</a></span></h3><p>Static method for getting the key code for a given key.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>name<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Name of key.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The key code.</p></dl></div></div></div></div><hr class="fn-sep"><div id="KeyboardShortcutHandler.parseStringShortcut" class="function"><div><h3>KeyboardShortcutHandler.parseStringShortcut(<wbr>s)<span class="codelink"><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l663">code »</a></span></h3><p>Builds stroke array from string representation of shortcut.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>s<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>String representation of shortcut.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;{keyCode: ?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, modifiers: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>}&gt;</code><dd><p>The stroke array. A  null keyCode means no non-modifier key was part of the stroke.</p></dl></div></div></div></div><h2>Static Properties</h2><div id="KeyboardShortcutHandler.MAX_KEY_SEQUENCE_DELAY" class="property"><dl><dt><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l215">KeyboardShortcutHandler.MAX_KEY_SEQUENCE_DELAY</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>Maximum allowed delay, in milliseconds, allowed between the first and second key in a key sequence.</p></dl></div><h2>Types</h2><dl><dt><a href="enum_goog_ui_KeyboardShortcutHandler_EventType.html">KeyboardShortcutHandler.EventType</a><dd><p>Events.</p><dt><a href="enum_goog_ui_KeyboardShortcutHandler_Modifiers.html">KeyboardShortcutHandler.Modifiers</a><dd><p>Bit values for modifier keys.</p><dt><a href="class_goog_ui_KeyboardShortcutHandler_SequenceNode_.html">KeyboardShortcutHandler.SequenceNode_</a><dd><p>A node in a keyboard shortcut sequence tree.</p></dl><h2>Type Definitions</h2><div id="KeyboardShortcutHandler.SequenceTree_" class="property"><dl><dt><a href="source/closure/goog/ui/keyboardshortcuthandler.js.src.html#l207">KeyboardShortcutHandler.SequenceTree_</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, <a href="class_goog_ui_KeyboardShortcutHandler_SequenceNode_.html">goog.ui.KeyboardShortcutHandler.SequenceNode_</a>&gt;</code><dd><p>A map of strokes (represented as numbers) to the nodes reached by those strokes.</p></dl></div></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>