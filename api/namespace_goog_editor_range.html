<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>goog.editor.range</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="codelink"><a href="source/closure/goog/editor/range.js.src.html#l21">View Source</a></div><h1>namespace goog.editor.range</h1><h2>Functions</h2><div id="expand" class="function"><div><h3>expand(<wbr>range, opt_stopNode)<span class="codelink"><a href="source/closure/goog/editor/range.js.src.html#l89">code »</a></span></h3><p>Given a range, expand the range to include outer tags if the full contents of those tags are entirely selected. This essentially changes the dom position, but not the visible position of the range. Ex. </p><li>foo</li> if &#34;foo&#34; is selected, instead of returning start and end nodes as the foo text node, return the li.<div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>range<code><a href="class_goog_dom_AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The range.</p><dt>opt_stopNode<code>?Node=</code><dd><p>Optional node to stop expanding past.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_dom_AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The expanded range.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getDeepEndPoint" class="function"><div><h3>getDeepEndPoint(<wbr>range, atStart)<span class="codelink"><a href="source/closure/goog/editor/range.js.src.html#l302">code »</a></span></h3><p>Get the deepest point in the DOM that&#39;s equivalent to the endpoint of the given range.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>range<code><a href="class_goog_dom_AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>A range.</p><dt>atStart<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>True for the start point, false for the end point.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_editor_range_Point.html">goog.editor.range.Point</a></code><dd><p>The end point, expressed as a node  and an offset.</p></dl></div></div></div></div><hr class="fn-sep"><div id="intersectsTag" class="function"><div><h3>intersectsTag(<wbr>range, tagName)<span class="codelink"><a href="source/closure/goog/editor/range.js.src.html#l451">code »</a></span></h3><p>Returns whether the given range intersects with any instance of the given tag.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>range<code><a href="class_goog_dom_AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The range to check.</p><dt>tagName<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The name of the tag.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the given range intersects with any instance of  the given tag.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isEditable" class="function"><div><h3>isEditable(<wbr>range)<span class="codelink"><a href="source/closure/goog/editor/range.js.src.html#l425">code »</a></span></h3><p>Checks if a range is completely inside an editable region.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>range<code><a href="class_goog_dom_AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The range to test.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the range is completely inside an editable region.</p></dl></div></div></div></div><hr class="fn-sep"><div id="narrow" class="function"><div><h3>narrow(<wbr>range, el)<span class="codelink"><a href="source/closure/goog/editor/range.js.src.html#l46">code »</a></span></h3><p>Given a range and an element, create a narrower range that is limited to the boundaries of the element. If the range starts (or ends) outside the element, the narrowed range&#39;s start point (or end point) will be the leftmost (or rightmost) leaf of the element.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>range<code><a href="class_goog_dom_AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The range.</p><dt>el<code>Element</code><dd><p>The element to limit the range to.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_dom_AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>A new narrowed range, or null if the  element does not contain any part of the given range.</p></dl></div></div></div></div><hr class="fn-sep"><div id="normalize" class="function"><div><h3>normalize(<wbr>range)<span class="codelink"><a href="source/closure/goog/editor/range.js.src.html#l335">code »</a></span></h3><p>Given a range in the current DOM, create a factory for a range that represents the same selection in a normalized DOM. The factory function should be invoked after the DOM is normalized.</p><p>All browsers do a bad job preserving ranges across DOM normalization. The issue is best described in this 5-year-old bug report: https://bugzilla.mozilla.org/show_bug.cgi?id&#61;191864 For most applications, this isn&#39;t a problem. The browsers do a good job handling un-normalized text, so there&#39;s usually no reason to normalize.</p><p>The exception to this rule is the rich text editing commands execCommand and queryCommandValue, which will fail often if there are un-normalized text nodes.</p><p>The factory function creates new ranges so that we can normalize the DOM without problems. It must be created before any normalization happens, and invoked after normalization happens.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>range<code><a href="class_goog_dom_AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The range to normalize. It may  become invalid after body.normalize() is called.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>function(): <a href="class_goog_dom_AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>A factory for a normalized  range. Should be called after body.normalize() is called.</p></dl></div></div></div></div><hr class="fn-sep"><div id="normalizeNode" class="function"><div><h3>normalizeNode(<wbr>node)<span class="codelink"><a href="source/closure/goog/editor/range.js.src.html#l248">code »</a></span></h3><p>Normalizes the given node.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>node<code>Node</code><dd><p>The node to normalize.</p></dl></div></div></div></div><hr class="fn-sep"><div id="placeCursorNextTo" class="function"><div><h3>placeCursorNextTo(<wbr>node, toLeft)<span class="codelink"><a href="source/closure/goog/editor/range.js.src.html#l185">code »</a></span></h3><p>Position the cursor immediately to the left or right of &#34;node&#34;. In Firefox, the selection parent is outside of &#34;node&#34;, so the cursor can effectively be moved to the end of a link node, without being considered inside of it. Note: This does not always work in WebKit. In particular, if you try to place a cursor to the right of a link, typing still puts you in the link. Bug: http://bugs.webkit.org/show_bug.cgi?id&#61;17697</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>node<code>Node</code><dd><p>The node to position the cursor relative to.</p><dt>toLeft<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>True to place it to the left, false to the right.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_dom_AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The newly selected range.</p></dl></div></div></div></div><hr class="fn-sep"><div id="rangePreservingNormalize" class="function"><div><h3>rangePreservingNormalize(<wbr>node, range)<span class="codelink"><a href="source/closure/goog/editor/range.js.src.html#l266">code »</a></span></h3><p>Normalizes the node, preserving a range of the document.</p><p>May also normalize things outside the node, if it is more efficient to do so.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>node<code>Node</code><dd><p>The node to normalize.</p><dt>range<code><a href="class_goog_dom_AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The range to normalize.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_dom_AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The range, adjusted for normalization.</p></dl></div></div></div></div><hr class="fn-sep"><div id="saveUsingNormalizedCarets" class="function"><div><h3>saveUsingNormalizedCarets(<wbr>range)<span class="codelink"><a href="source/closure/goog/editor/range.js.src.html#l585">code »</a></span></h3><p>Saves the range by inserting carets into the HTML.</p><p>Unlike the regular saveUsingCarets, this SavedRange normalizes text nodes. Browsers have other bugs where they don&#39;t handle split text nodes in contentEditable regions right.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>range<code><a href="class_goog_dom_AbstractRange.html">goog.dom.AbstractRange</a></code><dd><p>The abstract range object.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_dom_SavedCaretRange.html">goog.dom.SavedCaretRange</a></code><dd><p>A saved caret range that normalizes  text nodes.</p></dl></div></div></div></div><hr class="fn-sep"><div id="selectNodeStart" class="function"><div><h3>selectNodeStart(<wbr>node)<span class="codelink"><a href="source/closure/goog/editor/range.js.src.html#l167">code »</a></span></h3><p>Cause the window&#39;s selection to be the start of this node.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>node<code>Node</code><dd><p>The node to select the start of.</p></dl></div></div></div></div><hr class="fn-sep"><div id="selectionPreservingNormalize" class="function"><div><h3>selectionPreservingNormalize(<wbr>node)<span class="codelink"><a href="source/closure/goog/editor/range.js.src.html#l204">code »</a></span></h3><p>Normalizes the node, preserving the selection of the document.</p><p>May also normalize things outside the node, if it is more efficient to do so.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>node<code>Node</code><dd><p>The node to normalize.</p></dl></div></div></div></div><h2>Types</h2><dl><dt><a href="class_goog_editor_range_NormalizedCaretRange_.html">NormalizedCaretRange_</a><dd><p>Saves the range using carets, but normalizes text nodes when carets are removed.</p><dt><a href="class_goog_editor_range_Point.html">Point</a><dd><p>One endpoint of a range, represented as a Node and and offset.</p></dl></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>