<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>goog.result</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="codelink"><a href="source/closure/goog/result/result_interface.js.src.html#l22">View Source</a></div><h1>namespace goog.result</h1><h2>Functions</h2><div id="cancelParentResults" class="function"><div><h3>cancelParentResults(<wbr>dependentResult)<span class="codelink"><a href="source/closure/goog/result/resultutil.js.src.html#l506">code »</a></span></h3><p>Given a DependentResult, cancels the Results it depends on (that is, the results returned by getParentResults). This function does not recurse, so e.g. parents of parents are not canceled; only the immediate parents of the given Result are canceled.</p><p>Example using &#64;see goog.result.combine: </p><pre> var result1 &#61; xhr.get(&#39;testdata/xhr_test_text.data&#39;);</pre><p>// Get a second independent Result. var result2 &#61; xhr.getJson(&#39;testdata/xhr_test_json.data&#39;);</p><p>// Create a Result that resolves when both prior results resolve. var combinedResult &#61; goog.result.combineOnSuccess(result1, result2);</p><p>combinedResult.wait(function() {  if (combinedResult.isCanceled()) {  goog.result.cancelParentResults(combinedResult);  } });</p><p>// Now, canceling combinedResult will cancel both result1 and result2. combinedResult.cancel(); </p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>dependentResult<code><a href="interface_goog_result_DependentResult.html">goog.result.DependentResult</a></code><dd><p>A Result that is  dependent on the values of other Results (for example the Result of a  goog.result.combine, goog.result.chain, or goog.result.transform call).</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>True if any results were successfully canceled; otherwise  false. TODO(user): Implement a recursive version of this that cancels all ancestor results.</p></dl></div></div></div></div><hr class="fn-sep"><div id="canceledResult" class="function"><div><h3>canceledResult()<span class="codelink"><a href="source/closure/goog/result/resultutil.js.src.html#l99">code »</a></span></h3><p>Returns a canceled result. The result will be resolved to an error of type CancelError.</p><p>Example: </p><pre></pre><p>var result &#61; goog.result.canceledResult(); assertEquals(goog.result.Result.State.ERROR, result.getState()); var error &#61; result.getError(); assertTrue(error instanceof goog.result.Result.CancelError);</p><p></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="interface_goog_result_Result.html">goog.result.Result</a></code><dd><p>A canceled Result.</p></dl></div></div></div></div><hr class="fn-sep"><div id="chain" class="function"><div><h3><code>&lt;T&gt;</code> chain(<wbr>result, actionCallback, opt_scope)<span class="codelink"><a href="source/closure/goog/result/resultutil.js.src.html#l322">code »</a></span></h3><p>The chain function aids in chaining of asynchronous Results. This provides a convenience for use cases where asynchronous operations must happen serially i.e. subsequent asynchronous operations are dependent on data returned by prior asynchronous operations.</p><p>It accepts a result and an action callback as arguments and returns a result. The action callback is called when the first result succeeds and is supposed to return a second result. The returned result is resolved when one of both of the results resolve (depending on their success or failure.) The state and value of the returned result in the various cases is documented below: </p><pre></pre><p>First Result State: Second Result State: Returned Result State: SUCCESS SUCCESS SUCCESS SUCCESS ERROR ERROR ERROR Not created ERROR </p><p>The value of the returned result, in the case both results succeed, is the value of the second result (the result returned by the action callback.)</p><p>Example: </p><pre></pre><p>var testDataResult &#61; xhr.get(&#39;testdata/xhr_test_text.data&#39;);</p><p>// Chain this result to perform another asynchronous operation when this // Result is resolved. var chainedResult &#61; goog.result.chain(testDataResult,  function(testDataResult) {</p>
<pre><code>  // The result value of testDataResult is the URL for JSON data.
  var jsonDataUrl &#61; testDataResult.getValue();

  // Create a new Result object when the original result is resolved.
  var jsonResult &#61; xhr.getJson(jsonDataUrl);

  // Return the newly created Result.
  return jsonResult;
});
</code></pre><p>// The chained result resolves to success when both results resolve to // success. goog.result.waitOnSuccess(chainedResult, function(resultValue, result) {</p><p>// At this point, both results have succeeded and we can use the JSON  // data returned by the second asynchronous call.  var jsonData &#61; resultValue;  assertEquals(&#39;ok&#39;, jsonData[&#39;stat&#39;]); });</p><p>// Attach the error handler to be called when either Result fails. goog.result.waitOnError(chainedResult, function(result) {  alert(&#39;chained result failed!&#39;); }); </p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>result<code><a href="interface_goog_result_Result.html">goog.result.Result</a></code><dd><p>The result to chain.</p><dt>actionCallback<code>function(<a href="interface_goog_result_Result.html">goog.result.Result</a>): <a href="interface_goog_result_Result.html">goog.result.Result</a></code><dd><p>The callback called when the result is resolved. This  callback must return a Result.</p><dt>opt_scope<code>T=</code><dd><p>Optional scope for the action callback.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="interface_goog_result_DependentResult.html">goog.result.DependentResult</a></code><dd><p>A result that is resolved when both  the given Result and the Result returned by the actionCallback have  resolved.</p></dl></div></div></div></div><hr class="fn-sep"><div id="combine" class="function"><div><h3>combine(<wbr>var_args)<span class="codelink"><a href="source/closure/goog/result/resultutil.js.src.html#l381">code »</a></span></h3><p>Returns a result that waits on all given results to resolve. Once all have resolved, the returned result will succeed (and never error).</p><p>Example: </p><pre></pre><p>var result1 &#61; xhr.get(&#39;testdata/xhr_test_text.data&#39;);</p><p>// Get a second independent Result. var result2 &#61; xhr.getJson(&#39;testdata/xhr_test_json.data&#39;);</p><p>// Create a Result that resolves when both prior results resolve. var combinedResult &#61; goog.result.combine(result1, result2);</p><p>// Process data after resolution of both results. goog.result.waitOnSuccess(combinedResult, function(results) {  goog.array.forEach(results, function(result) {  alert(result.getState());  }); }); </p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>var_args<code>...<a href="interface_goog_result_Result.html">goog.result.Result</a></code><dd><p>The results to wait on.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="interface_goog_result_DependentResult.html">goog.result.DependentResult</a></code><dd><p>A new Result whose eventual value will  be the resolved given Result objects.</p></dl></div></div></div></div><hr class="fn-sep"><div id="combineOnSuccess" class="function"><div><h3>combineOnSuccess(<wbr>var_args)<span class="codelink"><a href="source/closure/goog/result/resultutil.js.src.html#l448">code »</a></span></h3><p>Returns a result that waits on all given results to resolve. Once all have resolved, the returned result will succeed if and only if all given results succeeded. Otherwise it will error.</p><p>Example: </p><pre></pre><p>var result1 &#61; xhr.get(&#39;testdata/xhr_test_text.data&#39;);</p><p>// Get a second independent Result. var result2 &#61; xhr.getJson(&#39;testdata/xhr_test_json.data&#39;);</p><p>// Create a Result that resolves when both prior results resolve. var combinedResult &#61; goog.result.combineOnSuccess(result1, result2);</p><p>// Process data after successful resolution of both results. goog.result.waitOnSuccess(combinedResult, function(results) {  var textData &#61; results[0].getValue();  var jsonData &#61; results[1].getValue();  assertEquals(&#39;Just some data.&#39;, textData);  assertEquals(&#39;ok&#39;, jsonData[&#39;stat&#39;]); });</p><p>// Handle errors when either or both results failed. goog.result.waitOnError(combinedResult, function(combined) {  var results &#61; combined.getError();</p><p>if (results[0].getState() &#61;&#61; goog.result.Result.State.ERROR) {  alert(&#39;result1 failed&#39;);  }</p><p>if (results[1].getState() &#61;&#61; goog.result.Result.State.ERROR) {  alert(&#39;result2 failed&#39;);  } }); </p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>var_args<code>...<a href="interface_goog_result_Result.html">goog.result.Result</a></code><dd><p>The results to wait on.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="interface_goog_result_DependentResult.html">goog.result.DependentResult</a></code><dd><p>A new Result whose eventual value will  be an array of values of the given Result objects.</p></dl></div></div></div></div><hr class="fn-sep"><div id="failedResult" class="function"><div><h3>failedResult(<wbr>opt_error)<span class="codelink"><a href="source/closure/goog/result/resultutil.js.src.html#l76">code »</a></span></h3><p>Returns a failed result with the optional error slug set.</p><p>Example: </p><pre></pre><p>var error &#61; new Error(&#39;something-failed&#39;); var result &#61; goog.result.failedResult(error); assertEquals(goog.result.Result.State.ERROR, result.getState()); assertEquals(error, result.getError());</p><p></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>opt_error<code>*=</code><dd><p>The error to which the result should resolve.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="interface_goog_result_Result.html">goog.result.Result</a></code><dd><p>A Result object that has already been resolved  to the supplied Error.</p></dl></div></div></div></div><hr class="fn-sep"><div id="successfulResult" class="function"><div><h3>successfulResult(<wbr>value)<span class="codelink"><a href="source/closure/goog/result/resultutil.js.src.html#l52">code »</a></span></h3><p>Returns a successful result containing the provided value.</p><p>Example: </p><pre></pre><p>var value &#61; &#39;some-value&#39;; var result &#61; goog.result.immediateResult(value); assertEquals(goog.result.Result.State.SUCCESS, result.getState()); assertEquals(value, result.getValue());</p><p></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>value<code>*</code><dd><p>The value of the result.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="interface_goog_result_Result.html">goog.result.Result</a></code><dd><p>A Result object that has already been resolved  to the supplied value.</p></dl></div></div></div></div><hr class="fn-sep"><div id="transform" class="function"><div><h3>transform(<wbr>result, transformer)<span class="codelink"><a href="source/closure/goog/result/resultutil.js.src.html#l238">code »</a></span></h3><p>Given a result and a transform function, returns a new result whose value, on success, will be the value of the given result after having been passed through the transform function.</p><p>If the given result is an error, the returned result is also an error and the transform will not be called.</p><p>Example: </p><pre></pre><p>var result &#61; xhr.getJson(&#39;testdata/xhr_test_json.data&#39;);</p><p>// Transform contents of returned data using &#39;processJson&#39; and create a // transformed result to use returned JSON. var transformedResult &#61; goog.result.transform(result, processJson);</p><p>// Attach success and failure handlers to the tranformed result. goog.result.waitOnSuccess(transformedResult, function(resultValue, result) {  var jsonData &#61; resultValue;  assertEquals(&#39;ok&#39;, jsonData[&#39;stat&#39;]); });</p><p>goog.result.waitOnError(transformedResult, function(error) {  // Failed getJson call }); </p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>result<code><a href="interface_goog_result_Result.html">goog.result.Result</a></code><dd><p>The result whose value will be  transformed.</p><dt>transformer<code>function(?): ?</code><dd><p>The transformer  function. The return value of this function will become the value of the  returned result.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="interface_goog_result_DependentResult.html">goog.result.DependentResult</a></code><dd><p>A new Result whose eventual value will  be the returned value of the transformer function.</p></dl></div></div></div></div><hr class="fn-sep"><div id="wait" class="function"><div><h3><code>&lt;T&gt;</code> wait(<wbr>result, handler, opt_scope)<span class="codelink"><a href="source/closure/goog/result/resultutil.js.src.html#l128">code »</a></span></h3><p>Calls the handler on resolution of the result (success or failure). The handler is passed the result object as the only parameter. The call will be immediate if the result is no longer pending.</p><p>Example: </p><pre></pre><p>var result &#61; xhr.get(&#39;testdata/xhr_test_text.data&#39;);</p><p>// Wait for the result to be resolved and alert it&#39;s state. goog.result.wait(result, function(result) {  alert(&#39;State: &#39; &#43; result.getState()); }); </p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>result<code><a href="interface_goog_result_Result.html">goog.result.Result</a></code><dd><p>The result to install the handlers.</p><dt>handler<code>function(<a href="interface_goog_result_Result.html">goog.result.Result</a>): ?</code><dd><p>The handler to be  called. The handler is passed the result object as the only parameter.</p><dt>opt_scope<code>T=</code><dd><p>Optional scope for the handler.</p></dl></div></div></div></div><hr class="fn-sep"><div id="waitOnError" class="function"><div><h3><code>&lt;T&gt;</code> waitOnError(<wbr>result, handler, opt_scope)<span class="codelink"><a href="source/closure/goog/result/resultutil.js.src.html#l191">code »</a></span></h3><p>Calls the handler if the result action errors. The result object is passed as the only parameter to the handler. The call will be immediate if the result object has already resolved to an error.</p><p>Example:</p>
<pre>

var result &#61; xhr.get(&#39;testdata/xhr_test_text.data&#39;);

// Attach a failure handler.
goog.result.waitOnError(result, function(error) {
 // Failed asynchronous call!
});
</pre><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>result<code><a href="interface_goog_result_Result.html">goog.result.Result</a></code><dd><p>The result to install the handlers.</p><dt>handler<code>function(?, <a href="interface_goog_result_Result.html">goog.result.Result</a>): ?</code><dd><p>The handler to be  called. The handler is passed the error and the result object as  parameters.</p><dt>opt_scope<code>T=</code><dd><p>Optional scope for the handler.</p></dl></div></div></div></div><hr class="fn-sep"><div id="waitOnSuccess" class="function"><div><h3><code>&lt;T&gt;</code> waitOnSuccess(<wbr>result, handler, opt_scope)<span class="codelink"><a href="source/closure/goog/result/resultutil.js.src.html#l157">code »</a></span></h3><p>Calls the handler if the result succeeds. The result object is the only parameter passed to the handler. The call will be immediate if the result has already succeeded.</p><p>Example: </p><pre></pre><p>var result &#61; xhr.get(&#39;testdata/xhr_test_text.data&#39;);</p><p>// attach a success handler. goog.result.waitOnSuccess(result, function(resultValue, result) {  var datavalue &#61; result.getvalue();  alert(&#39;value: &#39; &#43; datavalue &#43; &#39; &#61;&#61; &#39; &#43; resultValue); }); </p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>result<code><a href="interface_goog_result_Result.html">goog.result.Result</a></code><dd><p>The result to install the handlers.</p><dt>handler<code>function(?, <a href="interface_goog_result_Result.html">goog.result.Result</a>): ?</code><dd><p>The handler to be  called. The handler is passed the result value and the result as  parameters.</p><dt>opt_scope<code>T=</code><dd><p>Optional scope for the handler.</p></dl></div></div></div></div><h2>Types</h2><dl><dt><a href="class_goog_result_DeferredAdaptor.html">DeferredAdaptor</a><dd><p>An adaptor from Result to a Deferred, for use with existing Deferred chains.</p><dt><a href="interface_goog_result_DependentResult.html">DependentResult</a><dd><p>A DependentResult represents a Result whose eventual value depends on the value of one or more other Results.</p><dt><a href="class_goog_result_DependentResultImpl_.html">DependentResultImpl_</a><dd><p>A DependentResult represents a Result whose eventual value depends on the value of one or more other Results.</p><dt><a href="interface_goog_result_Result.html">Result</a><dd><p>A Result object represents a value returned by an asynchronous operation at some point in the future (e.g.</p><dt><a href="class_goog_result_SimpleResult.html">SimpleResult</a><dd><p>A SimpleResult object is a basic implementation of the goog.result.Result interface.</p></dl></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>