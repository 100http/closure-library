<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>goog.db</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="codelink"><a href="source/closure/goog/db/keyrange.js.src.html#l21">View Source</a></div><h1>namespace goog.db</h1><h2>Functions</h2><div id="deleteDatabase" class="function"><div><h3>deleteDatabase(<wbr>name, opt_onBlocked)<span class="codelink"><a href="source/closure/goog/db/db.js.src.html#l168">code »</a></span></h3><p>Deletes a database once all open connections have been closed.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>name<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The name of the database to delete.</p><dt>opt_onBlocked<code>function(<a href="class_goog_db_IndexedDb_VersionChangeEvent.html">goog.db.IndexedDb.VersionChangeEvent</a>): ?=</code><dd><p>Called if there are active  connections to the database.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_async_Deferred.html">goog.async.Deferred</a></code><dd><p>A deferred object that will fire once the  database is deleted.</p></dl></div></div></div></div><hr class="fn-sep"><div id="openDatabase" class="function"><div><h3>openDatabase(<wbr>name, opt_version, opt_onUpgradeNeeded, opt_onBlocked)<span class="codelink"><a href="source/closure/goog/db/db.js.src.html#l122">code »</a></span></h3><p>Opens a database connection and wraps it.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>name<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The name of the database to open.</p><dt>opt_version<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>The expected version of the database. If this is  larger than the actual version, opt_onUpgradeNeeded will be called  (possibly after opt_onBlocked; see <a href="namespace_goog_db.html#db.BlockedCallback"><code>goog.db.BlockedCallback</code></a>). If  this is passed, opt_onUpgradeNeeded must be passed as well.</p><dt>opt_onUpgradeNeeded<code>function(<a href="class_goog_db_IndexedDb_VersionChangeEvent.html">goog.db.IndexedDb.VersionChangeEvent</a>, <a href="class_goog_db_IndexedDb.html">goog.db.IndexedDb</a>, <a href="class_goog_db_Transaction.html">goog.db.Transaction</a>): ?=</code><dd><p>Called if  opt_version is greater than the old version of the database. If  opt_version is passed, this must be passed as well.</p><dt>opt_onBlocked<code>function(<a href="class_goog_db_IndexedDb_VersionChangeEvent.html">goog.db.IndexedDb.VersionChangeEvent</a>): ?=</code><dd><p>Called if there are active  connections to the database.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_async_Deferred.html">goog.async.Deferred</a></code><dd><p>The deferred database object.</p></dl></div></div></div></div><h2>Types</h2><dl><dt><a href="class_goog_db_Cursor.html">Cursor</a><dd><p>Creates a new IDBCursor wrapper object.</p><dt><a href="class_goog_db_Error.html">Error</a><dd><p>A database error.</p><dt><a href="class_goog_db_Index.html">Index</a><dd><p>Creates an IDBIndex wrapper object.</p><dt><a href="class_goog_db_IndexedDb.html">IndexedDb</a><dd><p>Creates an IDBDatabase wrapper object.</p><dt><a href="class_goog_db_KeyRange.html">KeyRange</a><dd><p>Creates a new IDBKeyRange wrapper object.</p><dt><a href="class_goog_db_ObjectStore.html">ObjectStore</a><dd><p>Creates an IDBObjectStore wrapper object.</p><dt><a href="class_goog_db_Transaction.html">Transaction</a><dd><p>Creates a new transaction.</p></dl><h2>Type Definitions</h2><div id="db.BlockedCallback" class="property"><dl><dt><a href="source/closure/goog/db/db.js.src.html#l82">db.BlockedCallback</a><code>function(<a href="class_goog_db_IndexedDb_VersionChangeEvent.html">goog.db.IndexedDb.VersionChangeEvent</a>): ?</code><dd><p>A callback that&#39;s called if a blocked event is received. When a database is supposed to be deleted or upgraded (i.e. versionchange), and there are open connections to this database, a block event will be fired to prevent the operations from going through until all such open connections are closed. This callback can be used to notify users that they should close other tabs that have open connections, or to close the connections manually. Databases can also listen for the <a href="enum_goog_db_IndexedDb_EventType.html#VERSION_CHANGE"><code>goog.db.IndexedDb.EventType.VERSION_CHANGE</code></a> event to automatically close themselves when they&#39;re blocking such operations.</p><p>This is passed a VersionChangeEvent that has the version of the database before it was deleted, and &#34;null&#34; as the new version.</p></dl></div><div id="db.UpgradeNeededCallback" class="property"><dl><dt><a href="source/closure/goog/db/db.js.src.html#l104">db.UpgradeNeededCallback</a><code>function(<a href="class_goog_db_IndexedDb_VersionChangeEvent.html">goog.db.IndexedDb.VersionChangeEvent</a>, <a href="class_goog_db_IndexedDb.html">goog.db.IndexedDb</a>, <a href="class_goog_db_Transaction.html">goog.db.Transaction</a>): ?</code><dd><p>A callback that&#39;s called when opening a database whose internal version is lower than the version passed to <a href="namespace_goog_db.html#openDatabase"><code>goog.db.openDatabase</code></a>.</p><p>This callback is passed three arguments: a VersionChangeEvent with both the old version and the new version of the database; the database that&#39;s being opened, for which you can create and delete object stores; and the version change transaction, with which you can abort the version change.</p><p>Note that the transaction is not active, which means that it can&#39;t be used to make changes to the database. However, since there is a transaction running, you can&#39;t create another one via <a href="class_goog_db_IndexedDb.html#createTransaction"><code>goog.db.IndexedDb.createTransaction</code></a>. This means that it&#39;s not possible to manipulate the database other than creating or removing object stores in this callback.</p></dl></div></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>