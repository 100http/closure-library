<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>AbstractChannel</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_goog_messaging.html">goog.messaging</a></div><div class="codelink"><a href="source/closure/goog/messaging/abstractchannel.js.src.html#l40">View Source</a></div><h1>class AbstractChannel</h1><pre class="inheritance"><a href="class_goog_Disposable.html">goog.Disposable</a>
  &#x2514; goog.messaging.AbstractChannel</pre><dl><dt>All implemented interfaces:<dd><code><a href="interface_goog_disposable_IDisposable.html">goog.disposable.IDisposable</a></code>, <code><a href="interface_goog_messaging_MessageChannel.html">goog.messaging.MessageChannel</a></code></dl><p>Creates an abstract message channel.</p><h2>Instance Methods</h2><div id="connect" class="function"><div><h3>connect(<wbr>opt_connectCb)<span class="codelink"><a href="source/closure/goog/messaging/abstractchannel.js.src.html#l78">code »</a></span></h3><p>Immediately calls opt_connectCb if given, and is otherwise a no-op. If subclasses have configuration that needs to happen before the channel is connected, they should override this and <a href="class_goog_messaging_AbstractChannel.html#isConnected"><code>#isConnected</code></a>.</p><p><b>Specified by: </b><a href="interface_goog_messaging_MessageChannel.html#connect">goog.messaging.MessageChannel</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>opt_connectCb<code>?Function=</code></dl></div></div></div></div><hr class="fn-sep"><div id="decodePayload" class="function"><div><h3>decodePayload(<wbr>serviceName, payload, objectPayload)<span class="codelink"><a href="source/closure/goog/messaging/abstractchannel.js.src.html#l185">code »</a></span></h3><p>Converts the message payload into the format expected by the registered service (either JSON or string).</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>serviceName<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The name of the service receiving the message.</p><dt>payload<code>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code><dd><p>The contents of the message.</p><dt>objectPayload<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the service expects an object or a  plain string.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>?(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code><dd><p>The payload in the format expected by the service, or  null if something went wrong.</p></dl></div></div></div></div><hr class="fn-sep"><div id="deliver" class="function"><div><h3>deliver(<wbr>serviceName, payload)<span class="codelink"><a href="source/closure/goog/messaging/abstractchannel.js.src.html#l131">code »</a></span></h3><p>Delivers a message to the appropriate service. This is meant to be called by subclasses when they receive messages.</p><p>This method takes into account both explicitly-registered and default services, as well as making sure that JSON payloads are decoded when necessary. If the subclass is capable of passing objects as payloads, those objects can be passed in to this method directly. Otherwise, the (potentially JSON-encoded) strings should be passed in.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>serviceName<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The name of the service receiving the message.</p><dt>payload<code>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code><dd><p>The contents of the message.</p></dl></div></div></div></div><hr class="fn-sep"><div id="disposeInternal" class="function"><div><h3>disposeInternal()<span class="codelink"><a href="source/closure/goog/messaging/abstractchannel.js.src.html#l204">code »</a></span></h3><p><b>Overrides: </b><a href="class_goog_Disposable.html#disposeInternal">goog.Disposable</a></p></div></div><hr class="fn-sep"><div id="getService" class="function"><div><h3>getService(<wbr>serviceName, payload)<span class="codelink"><a href="source/closure/goog/messaging/abstractchannel.js.src.html#l157">code »</a></span></h3><p>Find the service object for a given service name. If there&#39;s no service explicitly registered, but there is a default service, a service object is constructed for it.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>serviceName<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The name of the service receiving the message.</p><dt>payload<code>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code><dd><p>The contents of the message.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>?{callback: function((<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)): ?, objectPayload: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>}</code><dd><p>The  service object for the given service, or null if none was found.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isConnected" class="function"><div><h3>isConnected()<span class="codelink"><a href="source/closure/goog/messaging/abstractchannel.js.src.html#l91">code »</a></span></h3><p>Always returns true. If subclasses have configuration that needs to happen before the channel is connected, they should override this and <a href="class_goog_messaging_AbstractChannel.html#connect"><code>#connect</code></a>.</p><p><b>Specified by: </b><a href="interface_goog_messaging_MessageChannel.html#isConnected">goog.messaging.MessageChannel</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="registerDefaultService" class="function"><div><h3>registerDefaultService(<wbr>callback)<span class="codelink"><a href="source/closure/goog/messaging/abstractchannel.js.src.html#l107">code »</a></span></h3><p><b>Specified by: </b><a href="interface_goog_messaging_MessageChannel.html#registerDefaultService">goog.messaging.MessageChannel</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>callback<code>function(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)): ?</code></dl></div></div></div></div><hr class="fn-sep"><div id="registerService" class="function"><div><h3>registerService(<wbr>serviceName, callback, opt_objectPayload)<span class="codelink"><a href="source/closure/goog/messaging/abstractchannel.js.src.html#l97">code »</a></span></h3><p><b>Specified by: </b><a href="interface_goog_messaging_MessageChannel.html#registerService">goog.messaging.MessageChannel</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>serviceName<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dt>callback<code>function((<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)): ?</code><dt>opt_objectPayload<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>=</code></dl></div></div></div></div><hr class="fn-sep"><div id="send" class="function"><div><h3>send(<wbr>arg0)<span class="codelink"><a href="source/closure/goog/messaging/abstractchannel.js.src.html#l114">code »</a></span></h3><p><b>Specified by: </b><a href="interface_goog_messaging_MessageChannel.html#send">goog.messaging.MessageChannel</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>arg0<code>...?</code></dl></div></div></div></div><h2>Instance Properties</h2><div id="logger" class="property"><dl><dt><a href="source/closure/goog/messaging/abstractchannel.js.src.html#l68">logger</a><code><a href="class_goog_debug_Logger.html">goog.debug.Logger</a></code><dd><p>Logger for this class.</p></dl></div></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>